<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  lang="en"
  metal:use-macro="context/main_template/macros/master"
  i18n:domain="eea">

  <body metal:fill-slot="content"
        tal:define="recommendations options/recommendations">

    <div id="wise-search-form" class="full-width-marker">
      <script src="/++resource++msfd/js/recommendations-edit.js"></script>

      <div id="wise-search-form-top">
        <metal:tabs metal:use-macro="context/wise-macros/macros/tabs"></metal:tabs>
      </div>

      <div class="left-side-form">

        <h3>COM/Art12/2018/Recommendations</h3>

        <div id="edit-recommendation" class="modal fade" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h3>Edit recommendation</h3>
              </div>

              <div class="modal-body">
                <form method="POST" action="@@recommendations">
                  <div class="form-group">
                    <label>Recommendation code:</label>
                    <textarea name="rec_code" class="form-control"></textarea>
                  </div>
                  <div class="form-group">
                    <label>Topic:</label>
                    <select name="topic" class="form-control">
                      <tal:rep tal:repeat="topic view/topics">
                        <option tal:content="topic"></option>
                      </tal:rep>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Recommendation text:</label>
                    <textarea name="rec_text" class="form-control"></textarea>
                  </div>
                  <div class="form-group">
                    <label>Applicable MS or (sub)region:</label>
                    <select multiple name="ms_or_region" class="form-control">
                      <option value="BE">Belgium (BE)</option>
                      <option value="DE">Germany (DE)</option>
                      <option value="ES">ES</option>
                      <option value="FI">FI</option>
                      <option value="LT">LT</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Applicable descriptors:</label>
                    <select multiple name="descriptors" class="form-control">
                      <option>D1</option>
                      <option>D2</option>
                      <option>D3</option>
                      <option>D4</option>
                      <option>D11</option>
                    </select>
                  </div>
                  <input class="submitRecomm btn btn-primary btn-s"
                         type="submit" value="Add"
                         name="add-recommendation"/>
                </form>
              </div>
            </div>
          </div>
        </div>

        <a class="btn btn-s btn-primary"
          data-toggle="modal"
          data-target="#edit-recommendation">
            Add recommendation
        </a>

        <table id="edit-table" class="table table-listing">
          <thead>
            <tr>
              <th>Recommendation code</th>
              <th>Topic</th>
              <th>Recommendation text</th>
              <th>Applicable MS or (sub)region</th>
              <th>Applicable descriptors</th>
              <th></th>
            </tr>
          </thead>
          <tbody style="word-break: break-word">
            <tr tal:repeat="rec recommendations/items">
              <td tal:content="python: rec[0]"></td>
              <td tal:content="python: rec[1][0]"></td>
              <td tal:content="python: rec[1][1]"></td>
              <td tal:content="python: rec[1][2]"></td>
              <td tal:content="python: rec[1][3]"></td>
              <td>
                <a class="btn btn-sm btn-primary"
                  data-toggle="modal"
                  data-target="#edit-recommendation">
                    <i class="fa fa-edit"></i>
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>

</html>
