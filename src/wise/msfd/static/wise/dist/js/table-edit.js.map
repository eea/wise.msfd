{"version":3,"file":"table-edit.js","sources":["../../src/js/table-edit.js"],"sourcesContent":["(function($){\n  function setupEditRecommendationModal() {\n    var $modal = $('#edit-recommendation');\n\n    $modal.on('show.bs.modal', function(event){\n      var $btn = $(event.relatedTarget);\n      var cells = $btn.parent('td').parent('tr').children('td');\n\n      // clear form\n      $('#recomm-id').text('');\n      $('#recomm-code').text('');\n      // $('#recomm-code').parent().removeClass('disabled');\n      // $('#recomm-code').removeClass('disabled');\n      $('#recomm-text').text('');\n      $('#topic option').each(function(){\n        $(this).removeProp('selected');\n      });\n      $('#ms-region option').each(function(){\n        $(this).removeProp('selected');\n      });\n      $('#descriptors option').each(function(){\n        $(this).removeProp('selected');\n      });\n\n      // edit recommendation button pressed, prefill the form with values\n      if (cells.length) {\n        var rec_id = $(cells[0]).text();\n        var rec_code = $(cells[1]).text();\n        var topic = $(cells[2]).text();\n        var recommText = $(cells[3]).text();\n        var msRegion = $(cells[4]).text().split(',').map(function(item){ return item.trim(); });\n        var descriptors = $(cells[5]).text().split(',').map(function(item){ return item.trim(); });\n        \n        $('#recomm-id').val(rec_id);\n        $('#recomm-code').text(rec_code);\n        // $('#recomm-code').parent().addClass('disabled');\n        // $('#recomm-code').addClass('disabled');\n        $('#recomm-text').text(recommText);\n\n        $('#topic option').each(function(){\n          var currentValue = this.value;\n\n          if (topic == currentValue) {\n            $(this).prop('selected', true);\n          }\n        });\n\n        $('#ms-region option').each(function(){\n          var currentValue = this.value;\n\n          if (msRegion.includes(currentValue)) {\n            $(this).prop('selected', true);\n          }\n        });\n\n        $('#descriptors option').each(function(){\n          var currentValue = this.value;\n\n          if (descriptors.includes(currentValue)) {\n            $(this).prop('selected', true);\n          }\n        });\n      };\n\n    });\n  };\n\n  function setupEditMSFDReportingHistoryModal() {\n    var $modal = $('#edit-msfd-history');\n\n    $modal.on('show.bs.modal', function(event){\n      var $btn = $(event.relatedTarget);\n      var cells = $btn.parent('td').parent('tr').children('td').not('.edit-row-button');\n\n      var maxRows = $('#Row').attr('max-rows');\n      $('#Row').text(maxRows);\n\n      //clear form\n      $(this).find('textarea.editable').each(function(){\n        $(this).text('');\n      });\n\n      // edit recommendation button pressed, prefill the form with values\n      if (cells.length) {\n        cells.each(function(index){\n          var text = $(this).text().trim();\n          var formTextareas = $modal.find('textarea');\n          $(formTextareas[index]).text(text);\n        });\n      };\n    });\n  };\n\n  $(document).ready(function() {\n    setupEditRecommendationModal();\n    setupEditMSFDReportingHistoryModal();\n  });\n\n}(jQuery));"],"names":["$","document","ready","$modal","on","event","rec_id","rec_code","topic","recommText","msRegion","descriptors","cells","relatedTarget","parent","children","text","each","this","removeProp","length","split","map","item","trim","val","currentValue","value","prop","includes","not","maxRows","attr","find","index","formTextareas","jQuery"],"mappings":"CAAC,SAASA,GA6FRA,EAAEC,UAAUC,MAAM,WA1BlB,IACMC,EAlESH,EAAE,wBAERI,GAAG,gBAAiB,SAASC,GAClC,IAqBMC,EACAC,EACAC,EACAC,EACAC,EACAC,EAzBFC,EADOZ,EAAEK,EAAMQ,eACFC,OAAO,MAAMA,OAAO,MAAMC,SAAS,MAGpDf,EAAE,cAAcgB,KAAK,IACrBhB,EAAE,gBAAgBgB,KAAK,IAGvBhB,EAAE,gBAAgBgB,KAAK,IACvBhB,EAAE,iBAAiBiB,KAAK,WACtBjB,EAAEkB,MAAMC,WAAW,cAErBnB,EAAE,qBAAqBiB,KAAK,WAC1BjB,EAAEkB,MAAMC,WAAW,cAErBnB,EAAE,uBAAuBiB,KAAK,WAC5BjB,EAAEkB,MAAMC,WAAW,cAIjBP,EAAMQ,SACJd,EAASN,EAAEY,EAAM,IAAII,OACrBT,EAAWP,EAAEY,EAAM,IAAII,OACvBR,EAAQR,EAAEY,EAAM,IAAII,OACpBP,EAAaT,EAAEY,EAAM,IAAII,OACzBN,EAAWV,EAAEY,EAAM,IAAII,OAAOK,MAAM,KAAKC,IAAI,SAASC,GAAO,OAAOA,EAAKC,SACzEb,EAAcX,EAAEY,EAAM,IAAII,OAAOK,MAAM,KAAKC,IAAI,SAASC,GAAO,OAAOA,EAAKC,SAEhFxB,EAAE,cAAcyB,IAAInB,GACpBN,EAAE,gBAAgBgB,KAAKT,GAGvBP,EAAE,gBAAgBgB,KAAKP,GAEvBT,EAAE,iBAAiBiB,KAAK,WACtB,IAAIS,EAAeR,KAAKS,MAEpBnB,GAASkB,GACX1B,EAAEkB,MAAMU,KAAK,YAAY,KAI7B5B,EAAE,qBAAqBiB,KAAK,WAC1B,IAAIS,EAAeR,KAAKS,MAEpBjB,EAASmB,SAASH,IACpB1B,EAAEkB,MAAMU,KAAK,YAAY,KAI7B5B,EAAE,uBAAuBiB,KAAK,WAC5B,IAAIS,EAAeR,KAAKS,MAEpBhB,EAAYkB,SAASH,IACvB1B,EAAEkB,MAAMU,KAAK,YAAY,SAS7BzB,EAASH,EAAE,uBAERI,GAAG,gBAAiB,SAASC,GAClC,IACIO,EADOZ,EAAEK,EAAMQ,eACFC,OAAO,MAAMA,OAAO,MAAMC,SAAS,MAAMe,IAAI,oBAE1DC,EAAU/B,EAAE,QAAQgC,KAAK,YAC7BhC,EAAE,QAAQgB,KAAKe,GAGf/B,EAAEkB,MAAMe,KAAK,qBAAqBhB,KAAK,WACrCjB,EAAEkB,MAAMF,KAAK,MAIXJ,EAAMQ,QACRR,EAAMK,KAAK,SAASiB,GAClB,IAAIlB,EAAOhB,EAAEkB,MAAMF,OAAOQ,OACtBW,EAAgBhC,EAAO8B,KAAK,YAChCjC,EAAEmC,EAAcD,IAAQlB,KAAKA,SAvFvC,CAkGEoB"}