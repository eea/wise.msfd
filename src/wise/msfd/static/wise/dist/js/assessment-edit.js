!function(a){function b(b){var c=b.data("question-id"),d="./@@ast-comments?q="+c;a.get(d,function(a){console.log("getting comments from url",d),b.html(a)})}function c(){a(window).on("resize scroll",function(){a(".subform .right .comments").each(function(){var c=a(this);"true"!==c.data("comments-loaded")&&c.isInViewport()&&(c.data("comments-loaded","true"),b(c))})})}function d(){a(".subform .right .textline button").on("click",function(){var b=a(this),c=a(".comments",b.closest(".right")),d=c.data("question-id"),e=a("textarea",b.closest(".textline")).val(),f="./@@add_comment";return a.post(f,{text:e,q:d},function(a){c.html(a)}),!1})}a.fn.isInViewport=function(){var b=a(this).offset().top,c=b+a(this).outerHeight(),d=a(window).scrollTop(),e=d+a(window).height();return c>d&&b<e},a(document).ready(function(){c(),d()})}(jQuery);
//# sourceMappingURL=assessment-edit.js.map