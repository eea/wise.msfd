Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),function(u,b,v){function g(){var t=v(".overflow-table"),o=v(u);t.each(function(){var e=v(this),t=e,i=v(".top-scroll",t),s=i.find(".top-scroll-inner"),l=v(".inner",t),a=v(".table-report",t).outerWidth(includeMargin=!0),n=a+v("th",t).width(),r=v(".scroll-wrapper",t);s.width(a),i.on("scroll",function(){l.scrollLeft(v(this).scrollLeft())}),l.on("scroll",function(){i.scrollLeft(v(this).scrollLeft())}),n>e.width()&&o.on("resize scroll",function(){var t=o.scrollTop();e.isInViewport()?r.addClass("fixed-scroll"):r.removeClass("fixed-scroll"),t>=e.offset().top+e.outerHeight()-u.innerHeight?r.hide():r.show()})})}v.fn.fixTableHeaderAndCellsHeight=function(){this.each(function(){v("th",this).each(function(t){var e,i,s,l,a,n,r;v(this).parents("table").hasClass("skip-height-fix")||(l=v(this).parents(".overflow-table").hasClass("side-by-side-table-left"),v(this).parents(".overflow-table").hasClass("side-by-side-table-right")||(i=(e=v(this)).parent().children('td:not(".sub-header")'),l&&(l=v(v(this).parents(".overflow-table.side-by-side-table").siblings(".overflow-table.side-by-side-table-right").find("tr")[t]).children(),i=v.merge(i,l)),t=v("td.sub-header",e.parent()),s=[],i.each(function(){var t,e=v(this);e.hasClass("translatable")?(t=e.find(".tr-text").height(),s.push(t)):s.push(e.height())}),l=Math.max.apply(Math,s),a=Math.max(e.height(),t.height(),l),e.height(a),t.height(a),n=e.height(),r=e.innerHeight(),l<=n&&i.each(function(){v(this).hasClass("translatable")?v(this).height(r):v(this).height(n)}),v("div",this).css("margin-top","-4px")))})})},v.fn.fixTableHeaderHeight=function(){this.each(function(){v(this).parents("table").hasClass("skip-height-fix")||v("th",this).each(function(t){var e,i,s=v(this),l=v("td",s.parent()),a=[],n=v(this).parents(".overflow-table").hasClass("side-by-side-table-left");v(this).parents(".overflow-table").hasClass("side-by-side-table-right")||n||(n&&(e=(t=v(v(this).parents(".overflow-table.side-by-side-table").siblings(".overflow-table.side-by-side-table-right").find("tr")[t])).children("td"),i=t.children("th"),l=v.merge(l,e)),l.each(function(){var t,e=v(this);e.hasClass("translatable")?(t=e.find(".tr-text").height(),a.push(t)):a.push(e.height())}),t=Math.max.apply(Math,a),s.height(t),n&&i.height(t))})})},v.fn.simplifyTable=function(){var t=v(this),s=(t.data("original")||t.data("original",t.html()),{curentLevel:0,setlimits:[{level:-1,limits:[]}]});v("tr",this).each(function(){var t,l,e,a,i,n;l=s,e=[],a=[],i=null!=(i=v(t=this).data("level"))?parseInt(i):-1,v(l.setlimits).each(function(){if(this.level==i)return a=this.limits,!1}),0==a.length&&(a=l.setlimits[l.setlimits.length-1].limits),v("td",t).not(".sub-header").each(function(t){0!=e.length&&!a.includes(t)&&v(this).text().trim()==v(e.last().last()).text().trim()?e.last().push(this):e.push([this])}),v(e).each(function(){var t;1<this.length&&(t=this.length,v(this[0]).attr("colspan",t),v(this.slice(1)).each(function(){v(this).remove()}))}),-1!=i&&(a=[],l.curentLevel=i,v(e).each(function(){var t=this.length;a.length&&(t+=a[a.length-1]),a.push(t)}),l.setlimits.push({level:l.curentLevel,limits:a.slice(0)})),n=0,v("td",t).not(".sub-header").each(function(t){var e,i=l.curentLevel,s=parseInt(v(this).attr("colspan")||"1");if(n+=s,a.includes(n)){if(0<i)for(e=0;e<l.setlimits.length;e++)if(l.setlimits[e].limits.includes(n)){i=l.setlimits[e].level;break}v(this).addClass("endgroup_"+i)}})}),t.data("simplified",t.html())},v.fn.toggleTable=function(t){var e=v(this).data("original"),i=v(this).data("simplified");t?v(this).html(i):(v(this).hide(),v(this).empty().html(e),v(this).show()),setupReadMoreModal(),setupTranslateClickHandlers(),v(this).fixTableHeaderAndCellsHeight()},u.setupReadMoreModal=function(){var t=v(".table-report"),i=v("#read-more-modal"),s=v(".modal-content-wrapper");t.find(".tr-text").each(function(){v(this).text();var t,e=v(this).html();397<e.length&&(v(this).addClass("short"),t=e.substr(0,297.75)+"...",v(this).html(t),v(this).on("click",function(){s.html(e),i.modal("show")}))}),v(".btn-close-modal").click(function(){s.empty()})},v.fn.isInViewport=function(){var t=v(this).offset().top,e=t+v(this).height(),i=v(u).scrollTop(),s=i+v(u).height();return i<e&&t<s},v.fn.setupFixedTableRows=function(){v(this).each(function(){var t=v(this),a=t.find(".fixed-table-wrapper"),n=(v("th",t.parent()),v(".table-report",t).width()),r=v(".inner",t),o=v(".fixed-table-inner",t);function h(t){function e(){r.scrollLeft(v(this).scrollLeft())}function i(){o.scrollLeft(v(this).scrollLeft())}t?(o.on("scroll",e),r.on("scroll",i)):(o.off("scroll",e),r.off("scroll",i))}h(!0),t.find(".fix-row").each(function(t){t="cb"+t++;v(this).val(t)}),t.find(".fix-row").change(function(){var i,t=v(this),e=t.val(),s=t.closest(".overflow-table").find(".fixed-table"),l=t.closest(".overflow-table").find(".fixed-table-wrapper");s.width(n),t.is(":checked")?(l.addClass("sticky-table"),t.closest(".report-section").siblings(".report-section").each(function(){($ftw=v(this).find(".fixed-table-wrapper")).find("button.reset-pins").click()}),t=t.closest("tr"),i=t.children("td"),(t=t.clone()).children("td").width(function(t,e){return i.eq(t).outerWidth()}),t.appendTo(s).attr("data-row",e)):(a.find('tr[data-row="'+e+'"]').slideUp("fast",function(){v(this).remove()}),1===s.find("tr").length&&l.removeClass("sticky-table")),a.find(".fix-row").change(function(){var t=v(this),e=t.val();0===t.closest("tr").siblings().length&&t.closest(".fixed-table-wrapper").removeClass("sticky-table"),t.closest("tr").remove(),v('.fix-row[value="'+e+'"]').prop("checked",!1)}),h(!1),o.scrollLeft(r.scrollLeft()),h(!0)})}),v(u).on("resize scroll",function(){0<v(".report-nav.sticky").length?v(".fixed-table-wrapper").each(function(){v(this).css("top","56px")}):v(".fixed-table-wrapper").each(function(){v(this).css("top","0")})})},v.fn.setupStickyRows=function(){($stickyTable=v(".table-sticky-first-col")).find("tr").each(function(){v(this).find("th.sticky-col").each(function(){$currentTh=v(this),($prevTh=v(this).prev(".sticky-col")).hasClass("sticky-col")?(prevWidth=$prevTh.outerWidth(),prevLeft=parseInt($prevTh.css("left")),$currentTh.css({left:prevWidth+prevLeft})):$currentTh.css("left",-1)})}),$fixedTable=v(this).find(".fixed-table"),v(this).find(".fixed-table-wrapper").addClass("sticky-table"),v(this).find(".inner table").hasClass("table-sticky-first-col")&&$fixedTable.addClass("table-sticky-first-col"),v(this).find("tr.sticky-row").each(function(){v(this).children().each(function(){var t=v(this).outerWidth();v(this).css("min-width",t),v(this).css("width",t),v(this).css("background-color",v(this).css("background-color")),v(this).css("color",v(this).css("color")),v(this).css("text-align",v(this).css("text-align"))}),(clone=v(this).clone()).appendTo($fixedTable)}),v(u).on("resize scroll",function(){v(".overflow-table").each(function(){var t=v(this),l=(t.find(".fixed-table-wrapper"),[]);t.find(".inner tr.sticky-row").each(function(){var t=v(this).offset().top,e=parseInt(v(u).scrollTop()),i=v(this).parents(".overflow-table"),i=i.offset().top+i.outerHeight(),s=v(this).parents("thead").outerHeight();isInViewport=e<t||i<e+s,l.push(isInViewport)}),l.includes(!1)?t.removeClass("hidden-fixed-table"):t.addClass("hidden-fixed-table")})})},v(b).ready(function(s){var d,l,e,t,a,n,r;function f(){v(".table-report").each(function(){v(this).fixTableHeaderAndCellsHeight()})}setupReadMoreModal(),v(".button-field").addClass("btn"),v(".toggle-sidebar").hide(),l=[],v((d||".wise-search-form-container")+" select").each(function(t,e){var i=v(e).attr("id");if(-1!==l.indexOf(i))return!1;v(e).addClass("js-example-basic-single");i={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};v(e).find("option").length<10&&(i.minimumResultsForSearch=1/0),v(e).select2(i)}),t=v("#report-data-navigation"),v("button",t).on("click",function(){return v(".nav-body",t).toggle(),v(this).children().addClass("glyphicon").toggleClass("glyphicon-menu-hamburger glyphicon-remove-circle"),!1}),v(".nav-body",t).hide(),a=v(".report-nav"),n=v(".report-title"),0<a.length&&(e=a.offset().top,v(u).scroll(function(){var t=v(u).scrollTop(),t=e<=t;a.toggleClass("sticky",t),n.toggleClass("fixed-title",t)})),v(u).resize(function(){clearTimeout(r),r=setTimeout(f,500)}),u.matchMedia("(max-width: 768px)").matches&&v(".overflow-table h5").width(v(".overflow-table table").width()),v('<div class="scroll-wrapper"><i class="glyphicon glyphicon-th"></i><div class="top-scroll"><div class="top-scroll-inner"></div></div></div>').insertAfter(v(".overflow-table").find(".inner")),v(".overflow-table").each(function(){var t=v(this).find("table"),e=v('<input type="checkbox" class="fix-row"/>'),i=v('<div class="fixed-table-wrapper"><button title="Clear filters" class="reset-pins"><i class="glyphicon glyphicon-remove-circle"></i></button><div class="fixed-table-inner"><table class="table table-bordered table-striped fixed-table"></table></div></div>');i.find("button.reset-pins").click(function(){($ftw=v(this).closest(".fixed-table-wrapper")).removeClass("sticky-table"),$ftw.find("tr").remove(),($innerTable=$ftw.siblings(".inner")).find("tr input").prop("checked",!1)}),(t.find("td.sub-header").length?t.find("td.sub-header"):t.find("th div")).append(e),i.insertBefore(v(this).find(".inner"))});var o=v(".first-header");if(0!==o.length){var h,p="",p=o[0].firstElementChild.innerText;for(i=1;i<o.length;i++)p===(h=o[i].firstElementChild.innerText)?(o[i].firstElementChild.innerText="",v(o[i-1]).css("border-bottom","0px")):p=h}s(".assessment-read-more").click(function(){var t=s(this);t.text(function(t,e){return e.startsWith("Show")?"Hide reports":s(this).attr("display-text")}),t.parents().siblings(".assessment-dd-list").fadeToggle()});var c=s(".scroll-to-top");s(u).scroll(function(){400<s(this).scrollTop()?c.fadeIn():c.fadeOut()}),c.click(function(){return s("html, body").animate({scrollTop:0},400),!1}),s(u).on("load",function(){var e,t;v(".simplify-form").next().find(".table-report").each(function(){v(this).simplifyTable()}),v(".simplify-form button").on("click",function(){var t="true"==v(this).attr("aria-pressed");$p=v(this).parent().next(),v(".table-report",$p).toggleTable(!t),$p.setupFixedTableRows(),g()}),s(".overflow-table").each(function(){s(this).setupFixedTableRows(),s(this).find(".table-report").fixTableHeaderAndCellsHeight(),s(this).setupStickyRows()}),g(),t=v(".table-wrap"),v("#container-assessment-data-2018 .assessment-data-table").width()<=t.width()||(v("div.gescomp",t).css({display:"inline-table","min-width":"inherit",width:"inherit"}),e=0,v("div.gescomp",t).each(function(){var t=v(this).width();e<t&&(e=t)}),v("div.gescomp",t).css({width:e})),v(".assessment-status-processstate").each(function(){var t=v(this);t.find(".process-state");t.on("click",function(){t.toggleClass("active")})}),v(".assessment-status-wrapper .assessment-status.process-state select").change(function(){var t=v(this).parents("form"),e=v(".assessment-status-container2"),i=t[0].action;v(b.body).addClass("cursor-wait"),t.addClass("cursor-wait"),e.each(function(){v(this).addClass("cursor-wait")}),v.ajax({url:i,type:"POST",data:t.serialize(),success:function(){location.reload()}})})})})}(window,document,$);
//# sourceMappingURL=compliance.js.map