Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),function(a,b,c){function d(a){var b=[],d=a||q;c(d+" select").each(function(a,d){var e=c(d).attr("id");if(b.indexOf(e)!==-1)return!1;c(d).addClass("js-example-basic-single");var f=c(d).find("option").length<10,g={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};f&&(g.minimumResultsForSearch=1/0),c(d).select2(g)})}function e(){c(".button-field").addClass("btn"),c(".toggle-sidebar").hide()}function f(){var a=c(".table-wrap"),b=c("#container-assessment-data-2018 .assessment-data-table");if(!(b.width()<=a.width())){c("div.gescomp",a).css({display:"inline-table","min-width":"inherit",width:"inherit"});var d=0;c("div.gescomp",a).each(function(){var a=c(this).width();a>d&&(d=a)}),c("div.gescomp",a).css({width:d})}}function g(){c(".assessment-status-processstate").each(function(){var a=c(this);a.find(".process-state");a.on("click",function(){a.toggleClass("active")})}),c(".assessment-status-wrapper .assessment-status.process-state select").change(function(){var a=c(this).parents("form"),d=c(".assessment-status-container2"),e=a[0].action;c(b.body).addClass("cursor-wait"),a.addClass("cursor-wait"),d.each(function(){c(this).addClass("cursor-wait")}),c.ajax({url:e,type:"POST",data:a.serialize(),success:function(){location.reload()}})})}function h(a,b){var d=[],e=[],f=c(a).data("level");f=void 0!=f?parseInt(f):-1,c(b.setlimits).each(function(){if(this.level==f)return e=this.limits,!1}),0==e.length&&(e=b.setlimits[b.setlimits.length-1].limits),c("td",a).each(function(a){if(0==d.length||e.includes(a))d.push([this]);else{var b=c(this).text().trim(),f=c(d.last().last()).text().trim();b==f?d.last().push(this):d.push([this])}}),c(d).each(function(){if(this.length>1){var a=this.length;c(this[0]).attr("colspan",a),c(this.slice(1)).each(function(){c(this).remove()})}}),f!=-1&&(e=[],b.curentLevel=f,c(d).each(function(){var a=this.length;e.length&&(a+=e[e.length-1]),e.push(a)}),b.setlimits.push({level:b.curentLevel,limits:e.slice(0)}));var g=0;c("td",a).each(function(a){var d,f,h=b.curentLevel,i=parseInt(c(this).attr("colspan")||"1");if(g+=i,e.includes(g)){if(h>0)for(d=0;d<b.setlimits.length;d++)if(f=b.setlimits[d].limits,f.includes(g)){h=b.setlimits[d].level;break}c(this).addClass("endgroup_"+h)}})}function j(){var b=c("#report-data-navigation");c("button",b).on("click",function(){return c(".nav-body",b).toggle(),c(this).children().addClass("glyphicon").toggleClass("glyphicon-menu-hamburger glyphicon-remove-circle"),!1}),c(".nav-body",b).hide();var d=c(".report-nav"),e=c(".report-title");if(d.length>0){var f=d.offset().top;c(a).scroll(function(){var b=c(a).scrollTop(),g=b>=f;d.toggleClass("sticky",g),e.toggleClass("fixed-title",g)})}}function k(){var a=c('<div class="scroll-wrapper"><i class="glyphicon glyphicon-th"></i><div class="top-scroll"><div class="top-scroll-inner"></div></div></div>');a.insertAfter(c(".overflow-table").find(".inner"))}function l(){var b=c(".overflow-table"),d=c(a);b.each(function(){var b=c(this),e=c(".top-scroll",b.parent()),f=e.find(".top-scroll-inner"),g=c(".inner",b.parent()),h=c(".table-report",b.parent()).outerWidth(includeMargin=!0),i=c("th",b.parent()).width(),j=h+i,k=c(".scroll-wrapper",b.parent());f.width(h),e.on("scroll",function(){g.scrollLeft(c(this).scrollLeft())}),g.on("scroll",function(){e.scrollLeft(c(this).scrollLeft())}),j>b.width()&&d.on("resize scroll",function(){var c=d.scrollTop();b.isInViewport()?k.addClass("fixed-scroll"):k.removeClass("fixed-scroll"),c>=b.offset().top+b.outerHeight()-a.innerHeight?k.hide():k.show()})})}function m(){var a=c(".overflow-table"),b=a.find("table"),d=c('<input type="checkbox" class="fix-row"/>'),e=c('<div class="fixed-table-wrapper"><button title="Clear filters" class="btn btn-primary btn-xs reset-pins"><i class="glyphicon glyphicon-remove-circle"></i></button><div class="fixed-table-inner"><table class="table table-bordered table-striped fixed-table"></table></div></div>');e.find("button.reset-pins").click(function(){$ftw=c(this).closest(".fixed-table-wrapper"),$ftw.removeClass("sticky-table"),$ftw.find("tr").remove(),$innerTable=$ftw.siblings(".inner"),$innerTable.find("tr input").prop("checked",!1)}),b.find("td.sub-header").length?b.find("td.sub-header").append(d):b.find("th div").append(d),e.insertBefore(a.find(".inner"))}function n(){function b(){c(".table-report").fixTableHeaderHeight()}var d;c(a).resize(function(){clearTimeout(d),d=setTimeout(b,500)}),a.matchMedia("(max-width: 768px)").matches&&c(".overflow-table h5").width(c(".overflow-table table").width())}function o(){c(".simplify-form").next().find(".table-report").each(function(){c(this).simplifyTable()}),c(".simplify-form button").on("click",function(){var a="true"==c(this).attr("aria-pressed");$p=c(this).parent().next(),c(".table-report",$p).toggleTable(!a),$p.setupFixedTableRows(),l()})}function p(){var a=c(".first-header");if(0!==a.length){var b="",d="";for(b=a[0].firstElementChild.innerText,i=1;i<a.length;i++)d=a[i].firstElementChild.innerText,b===d?(a[i].firstElementChild.innerText="",c(a[i-1]).css("border-bottom","0px")):b=d}}var q=".wise-search-form-container";c.fn.fixTableHeaderAndCellsHeight=function(){this.each(function(){c("th",this).each(function(){if(!c(this).parents("table").hasClass("skip-height-fix")){var a=c(this),b=c('td:not(".sub-header")',a.parent()),d=c("td.sub-header",a.parent()),e=[];b.each(function(){var a=c(this);if(a.hasClass("translatable")){var b=a.find(".tr-text").height();e.push(b)}else e.push(a.height())});var f=Math.max.apply(Math,e),g=Math.max(a.height(),d.height(),f);a.height(g),d.height(g),a.height()>f&&b.each(function(){c(this).height(a.height())}),c("div",this).css("margin-top","-4px")}})})},c.fn.fixTableHeaderHeight=function(){this.each(function(){c("th",this).each(function(){var a=c(this),b=c("td",a.parent()),d=[];b.each(function(){var a=c(this);if(a.hasClass("translatable")){var b=a.find(".tr-text").height();d.push(b)}else d.push(a.height())});var e=Math.max.apply(Math,d);a.height(e)})})},c.fn.simplifyTable=function(){var a=c(this);a.data("original")||a.data("original",a.html());var b={curentLevel:0,setlimits:[{level:-1,limits:[]}]};c("tr",this).each(function(){h(this,b)}),a.fixTableHeaderHeight(),a.data("simplified",a.html())},c.fn.toggleTable=function(a){var b=c(this).data("original"),d=c(this).data("simplified");a?c(this).html(d):(c(this).hide(),c(this).empty().html(b),c(this).show(),setupTranslateClickHandlers()),setupReadMoreModal(),setupTranslateClickHandlers()},a.setupReadMoreModal=function(){var a=c(".table-report"),b=c("#read-more-modal"),d=c(".modal-content-wrapper"),e=397,f="...",g=a.find(".tr-text");g.each(function(){var a=(c(this).text(),c(this).html());if(a.length>e){c(this).addClass("short");var g=a.substr(0,.75*e)+f;c(this).html(g),c(this).on("click",function(){d.html(a),b.modal("show")})}}),c(".btn-close-modal").click(function(){d.empty()}),a.fixTableHeaderAndCellsHeight()},c.fn.isInViewport=function(){var b=c(this).offset().top,d=b+c(this).height(),e=c(a).scrollTop(),f=e+c(a).height();return d>e&&b<f},c.fn.setupFixedTableRows=function(){var b=c(this),d=c(".fixed-table-wrapper");b.each(function(){function a(a){function b(){f.scrollLeft(c(this).scrollLeft())}function d(){g.scrollLeft(c(this).scrollLeft())}a?(g.on("scroll",b),f.on("scroll",d)):(g.off("scroll",b),f.off("scroll",d))}var b=c(this),e=(c("th",b.parent()),c(".table-report",b.parent()).width()),f=c(".inner",b.parent()),g=c(".fixed-table-inner",b.parent());a(!0),c(".fix-row").each(function(a){var b="cb"+a++,d=c(this);d.val(b)});var h=b.find(".fix-row");h.change(function(){var h=c(this),i=h.val(),j=h.closest(".overflow-table").find(".fixed-table"),k=h.closest(".overflow-table").find(".fixed-table-wrapper");if(c(".fixed-table").width(e),h.is(":checked")){k.addClass("sticky-table");var l=h.closest(".report-section"),m=l.siblings(".report-section");m.each(function(){$ftw=c(this).find(".fixed-table-wrapper"),$ftw.find("button.reset-pins").click()});var n=h.closest("tr"),o=n.children("td"),p=n.clone();p.children("td").width(function(a,b){return o.eq(a).outerWidth()}),p.appendTo(j).attr("data-row",i),b.find(".table").fixTableHeaderAndCellsHeight()}else d.find('tr[data-row="'+i+'"]').slideUp("fast",function(){c(this).remove()}),1===j.find("tr").length&&k.removeClass("sticky-table");var q=d.find(".fix-row");q.change(function(){var a=c(this),b=a.val();0===a.closest("tr").siblings().length&&a.closest(".fixed-table-wrapper").removeClass("sticky-table"),a.closest("tr").remove(),c('.fix-row[value="'+b+'"]').prop("checked",!1)}),a(!1),g.scrollLeft(f.scrollLeft()),a(!0)})}),c(a).on("resize scroll",function(){c(".report-nav.sticky").length>0?d.css("top","58px"):d.css("top","0")})},c.fn.setupStickyRows=function(){$stickyTable=c(".table-sticky-first-col"),$stickyTable.find("tr").each(function(){c(this).find("th.sticky-col").each(function(){$currentTh=c(this),$prevTh=c(this).prev(".sticky-col"),$prevTh.hasClass("sticky-col")?(prevWidth=$prevTh.outerWidth(),prevLeft=parseInt($prevTh.css("left")),$currentTh.css({left:prevWidth+prevLeft})):$currentTh.css("left",-1)})}),$fixedTable=c(this).find(".fixed-table");var b=c(this).find(".fixed-table-wrapper");b.addClass("sticky-table"),c(this).find(".inner table").hasClass("table-sticky-first-col")&&$fixedTable.addClass("table-sticky-first-col"),c(this).find("tr.sticky-row").each(function(){c(this).children().each(function(){var a=c(this).outerWidth();c(this).css("min-width",a),c(this).css("background-color",c(this).css("background-color")),c(this).css("color",c(this).css("color")),c(this).css("text-align",c(this).css("text-align"))}),clone=c(this).clone(),clone.appendTo($fixedTable)}),c(a).on("resize scroll",function(){var b=c(".overflow-table"),d=(b.find(".fixed-table-wrapper"),[]);b.find(".inner tr.sticky-row").each(function(){var b=c(this).offset().top,e=c(a).scrollTop(),f=e+c(a).height();isInViewport=c(this).isInViewport()||b>f,d.push(isInViewport)}),d.includes(!1)?b.removeClass("hidden-fixed-table"):b.addClass("hidden-fixed-table")})},c(b).ready(function(b){setupReadMoreModal(),e(),d(),j(),n(),k(),m(),p(),b(a).on("load",function(){o();var a=b(".overflow-table");a.each(function(){b(this).setupFixedTableRows(),b(this).setupStickyRows()}),l(),f(),g()})})}(window,document,$);
//# sourceMappingURL=compliance.js.map