!function(h,x,g){var n,i,s=["all","none","invert","apply"],v=".wise-search-form-container",b="#wise-search-form",c=(n=sessionStorage,i={},{getItem:function(e){return a()?n.getItem(e):i.hasOwnProperty(e)?i[e]:null},setItem:function(e,t){a()?n.setItem(e,t):i[e]=String(t)},removeItem:function(e){a()?n.removeItem(e):delete i[e]},clear:function(){a()?n.clear():i={}},key:function(e){return a()?n.key(e):Object.keys(i)[e]||null},length:0});function a(){try{var e="__some_random_key_you_are_not_going_to_use__";return n.setItem(e,e),n.removeItem(e),1}catch(e){return}}g.randomString=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="",n=0;n<8;n++){var i=Math.floor(Math.random()*e.length);t+=e.substring(i,i+1)}return t};var o=!(g.getMultipartData=function(e,t){var t=t||g.randomString(),n="--"+t,i="",a="\r\n",e=(g(e).attr("id"),g(e).serializeArray());if(0===e.length)return!1;var o=[],r={};return g.each(e,function(e,t){i+=n+a+'Content-Disposition: form-data; name="'+t.name+'"'+a+a+t.value+a,o.push(t.name),r[t.name]||(r[t.name]=[]),r[t.name].push(t.value)}),[t,i+=n+"--"+a,r]});function w(d){d.find(".ui-autocomplete-input").autocomplete({minLength:0,source:[],search:function(e){var n,i,a,o,t,e=e.target,r=d,s=r.find(".option .label:not(.horizontal) "),l=(t=s.parentsUntil(".option").parent()).find("input"),c=t.parent().find(".noresults");""!==g(e).val()?(r.find(".apply-filters").show(),t.removeClass("hidden"),l=g(e).val().toLowerCase().replace(/\s/g,"_"),i=new RegExp(g.ui.autocomplete.escapeRegex(l),"i"),a={},r.find(".option .label:not(.horizontal) ").map(function(e,t){return a[g(t).text().toLowerCase()]=g(t).text().toLowerCase().replace(/\s/g,"_"),g(t).text().toLowerCase().replace(/\s/g,"_")}),o=[],g.each(a,function(e,t){i.test(t)||o.push(e)}),t=s.filter(function(e,t){return-1!==o.indexOf(g(t).text().toLowerCase())}),e=s.filter(function(e,t){return-1===o.indexOf(g(t).text().toLowerCase())}),g.each(e,function(e,t){g(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!0)}),g.each(t,function(e,t){g(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!1),g(t).parentsUntil(".option").parent().find("input[type='checkbox']").prop("checked",!1),g(t).parentsUntil(".option").parent().find("input[type='checkbox']").removeAttr("checked"),g(t).parentsUntil(".option").parent().addClass("hidden")}),t.length===s.length?c.removeClass("hidden"):c.addClass("hidden")):(c.addClass("hidden"),t.removeClass("hidden"),(n=r.find(".panel-content > span:not(.controls)").data("checked_items"))&&g.each(l,function(e,t){t.checked=-1!==n.indexOf(t.id)}))},create:function(){g(this).parentsUntil(".ui-autocomplete").find(".clear-btn ").on("click",null,this,function(e){g(this).parentsUntil(".controls").find("input").val(""),g(this).parentsUntil(".controls").find("input").trigger("change"),g(e.data).autocomplete("search","undefined")})}})}function k(n){var i,a,e;void 0!==h.WISE&&void 0!==h.WISE.blocks&&-1!==h.WISE.blocks.indexOf(n.attr("id"))||(i=[],g.each(n.find(".option input[type='checkbox']:not(:checked)"),function(e,t){i.push(g(t).parent())}),e=n.find(".option input[type='checkbox']:checked"),a=[],0<e.length&&g.each(e,function(e,t){a.push(g(t).parent())}),e=a.concat(i),g.each(e,function(e,t){n.find(".panel").append(t)}))}function l(e,t){var m=t;e.each(function(d,e){var i,t,n,a,p,o,r,s,l,f,e=g(e),c=e.find(".option");function u(){i.empty(),g(v+", "+b).find("[data-fieldname]").each(function(){var n,e=g(this),t=e.find("> label.horizontal").text().trim(),e=e.find("input[type='checkbox']:checked");e.length&&((n=g('<div class="active-filter-group"></div>')).append('<span class="filter-group-title">'+t+":</span>"),e.each(function(){var t=g(this),e=t.parent().text().trim(),e=g('<span class="active-filter-item">'+e+'<button type="button" class="ui button clear-filter"><i class="fa fa-times" aria-hidden="true"/></button></span>');e.find(".clear-filter").on("click",function(e){e.preventDefault(),t.is(":checked")&&t[0].click()}),n.append(e)}),i.append(n))})}0<c.find("input[type='checkbox']").length&&(n=e.attr("id"),f=e,g("#"+n).on("click",".option",function(){var e=this;g("#ajax-spinner2").hide(),-1!==h.WISE.blocks.indexOf(g(this).parentsUntil(".field").parent().attr("id"))?k(f):h.setTimeout(function(){g(v+" .formControls #form-buttons-continue").trigger("click",{button:e})},300)}),e.find("> label.horizontal").after('<div class="controls"><span>Select :</span><a data-value="all"><label><span class="label">All</span></label></a><a data-value="none"><label><span class="label">Clear all</span></label></a><a data-value="invert"><label><span class="label">Invert selection</span></label></a><div class="btn btn-default apply-filters" data-value="apply"><span>Apply filters</span></div><div class="ui-autocomplete"><span class="search-span"><input class="ui-autocomplete-input" type="text" placeholder="Quick search"/><span class="clear-btn"></span></div></div>'),c.each(function(e){var t=g(c[e]).text();g(c[e]).attr("title",t.trim())}),c.length<4?(e.find(".controls a").hide(),e.find(".controls").html("").css("height","1px").css("padding",0)):(n=e,a=c,o=g(".msfd-search-wrapper"),n.addClass("panel-group"),(r=n.find("> label.horizontal")).addClass("panel-title panel-heading"),(s=r.next(".panel-content")).length||(r.nextAll().wrapAll('<div class="panel-content"></div>'),s=r.next(".panel-content")),(l=s.find("> span:not(.controls)")).addClass("panel-default"),s.hide().removeClass("open"),r.removeClass("open"),r.off("click.accordion").on("click.accordion",function(e){e.stopPropagation();var e=g(this),t=e.next(".panel-content");t.is(":visible")?(t.hide().removeClass("open"),e.removeClass("open"),0===g(".panel-content.open").length&&o.find(".dimmer").remove()):(g(".panel-content").hide().removeClass("open"),g(".panel-title").removeClass("open"),o.find(".dimmer").remove(),t.show().addClass("open"),e.addClass("open"),o.append('<div class="dimmer"/>'))}),g(x).off("click.accordionOutside").on("click.accordionOutside",function(e){0===g(e.target).closest(".panel-group").length&&(g(".panel-content").hide().removeClass("open"),g(".panel-title").removeClass("open"),o.find(".dimmer").remove())}),a.length<6?n.find(".controls .ui-autocomplete").hide():(l.append("<span class='noresults hidden'>No results found</span>"),l.data("checked_items",[]),p=l.data("checked_items"),g.each(n.find("input:checked"),function(e,t){p.push(t.id)}),w(n)),s=e,r=g(".active-filters-section"),i=g(".active-filters-list"),t=(r=r.find(".active-filters-header")).find("i.fa"),i.hide(),s.on("change","input[type='checkbox']",u),r.off("click.activeFiltersToggle").on("click.activeFiltersToggle",function(){i.slideToggle(200),t.toggleClass("fa-chevron-up fa-chevron-down ")}),u(),e.find(".search-icon").on("click",function(e){g(e.target).parent().find("input").trigger("focus")})),k(e)),--m||g(v+","+b).animate({opacity:1},1e3)})}function d(e){e.preventDefault();var e=g(this).parent().parent(),t=(h.WISE.blocks.push(g(this).parentsUntil(".field").parent().attr("id")),e.find(".apply-filters").show(),u(g(e).find("[type='checkbox']")));g.each(t,function(e){"all"!==g(t[e]).val()&&"none"!==g(t[e]).val()&&g(t[e]).prop("checked",!0)})}function p(e){e.preventDefault(),g(this).prop("checked",!1);var e=g(this).parent().parent(),t=(e.find(".apply-filters").show(),u(g(e).find("[type='checkbox']")));h.WISE.blocks.push(g(this).parentsUntil(".field").parent().attr("id")),g.each(t,function(e){g(t[e]).prop("checked",!1)})}function f(e){e.preventDefault(),g(this).prop("checked",!1);var e=g(this).parent().parent(),e=(e.find(".apply-filters").show(),h.WISE.blocks.push(g(this).parentsUntil(".field").parent().attr("id")),u(g(e).find("[type='checkbox']"))),t=e.filter(function(e,t){return g(t).is(":checked")}),n=e.filter(function(e,t){return!g(t).is(":checked")});g.each(t,function(e){g(t[e]).prop("checked",!1)}),g.each(n,function(e){g(n[e]).prop("checked",!0)})}function u(e){return e.filter(function(e,t){return-1===s.indexOf(g(t).val())})}function m(){var e=g(v+", "+b).find("[data-fieldname]");e.on("click",".option",function(e){g("#ajax-spinner2").hide();var t=g(this).find("input[type='checkbox']").val();-1!==h.WISE.blocks.indexOf(g(this).parentsUntil(".field").parent().attr("id"))||(t=t,e=e,g(v+" [name='form.widgets.page']").val(0),-1===s.indexOf(t)&&g(e.target).find("input[type='checkbox']").trigger("click"))})}function y(e){var o=["form-widgets-member_states-from","form-widgets-member_states-to"],r=e||v;g(r+" select").each(function(e,t){var n=g(t).attr("id");if(-1!==o.indexOf(n))return!1;g(t).addClass("js-example-basic-single");var n=g(t).find("option").length<10,i=g(r),a={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};n&&(a.minimumResultsForSearch=1/0),g(t).select2(a),g(r+" #s2id_form-widgets-marine_unit_id").hide();g(t).on("select2-selecting",function(e){g(this).attr("id"),i.find("[name='form.widgets.page']").remove();var t=this;h.setTimeout(function(){g(r+" .formControls #form-buttons-continue").trigger("click",{select:t})},300)})})}function C(e){var e=g(e.element[0]),t=e.attr("data-subtitle");return"<span>"+e.attr("data-maintitle")+": "+t+"</span>"}function _(){y(),n="#marine-unit-trigger",g(b+" select:not(.notselect)").hasClass("js-example-basic-single")||g(b+" select:not(.notselect)").addClass("js-example-basic-single").each(function(e,t){g(t).select2({placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!1,width:"auto",theme:"flat",minimumResultsForSearch:20,allowClear:!0,dropdownParent:"#marine-unit-trigger",dropdownAdapter:"AttachContainer",containerCssClass:"select2-top-override",dropdownCssClass:"select2-top-override-dropdown",debug:!0}),g(t).parentsUntil(".field").parent().prepend("<h4>Marine Unit ID: </h4>"),g(t).on("select2-open",function(){var e=g(n).offset().top;g(n+" .arrow").hide(),g(".select2-top-override-dropdown").css({top:e+g(n).height()-g(n+" .arrow").height()+"px","margin-top":"12px !important"})}),g(t).on("select2-selecting",function(e){g(v+" [name='form.widgets.page']").val(0),g(v+" #form-widgets-marine_unit_id").select2().val(e.val).trigger("change"),g(v+" .formControls #form-buttons-continue").trigger("click",{select:e.target,from_marine_widget:!0})}),g(t).on("select2-close",function(){g(n).css("background","transparent"),g(n+" a").css("background","transparent"),g(n+" .arrow").show()}),g(b+" select").hasClass("js-example-basic-single")&&(t=g(b+' select [value="'+jQuery(b+" .select-article select").val()+'"]').text(),g(b+" select:not(.notselect)").parentsUntil(".field").before('<div id="marine-unit-trigger"><div class="text-trigger">'+t+"</div></div>"),g(n).on("click",function(){if(o)return!1;g(n).css("background","rgb(238, 238, 238)"),g(n+" a").css("background","rgb(238, 238, 238)"),g(b+" select:not(.notselect)").select2("open");var e=g(n+" a").height();g(".select2-top-override-dropdown").css("margin-top",e/2+"px")}))}),e=g("#mobile-select-article"),void 0!==g.fn.select2&&(e.select2({placeholder:"Select an option",closeOnSelect:!0,width:"element",theme:"flat",minimumResultsForSearch:20,formatSelection:C,formatResult:C,containerCssClass:"mobile-select-article"}),e.one("select2-selecting",function(e){x.location.href=e.choice.id}));var n,e="auto",t=!0,i={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:t=h.matchMedia("(max-width: 967px)").matches?e=!1:t,width:e,theme:"flat",minimumResultsForSearch:20,containerCssClass:"extra-details-select"};g.each(g(b+" .extra-details-select"),function(e,t){1<g(t).find("option").length?g(t).select2(i):g(t).hide()}),g(b+" .extra-details .tab-panel").fadeOut("slow",function(){g.each(g(b+" .extra-details .extra-details-section"),function(e,t){g(g(t).find(".tab-panel")[0]).show()})}),g(b+" .extra-details-select").on("select2-selecting",function(n){var e=g(n.target).parentsUntil(".extra-details-section").parent();g.each(g(e).find(".tab-panel"),function(e,t){g(t).attr("id")!==n.choice.id?g(t).hide():g(t).fadeIn()})}),0<g(b+" .tab-content .tab-pane.fade").length&&(g(g(b+" .tab-content.msfd-extra-tab-content .tab-pane.fade")[0]).addClass("in active"),g(g(b+" .nav-tabs.msfd-extra-nav-tabs .nav-item")[0]).addClass("active"))}function I(e){var t,e=e.data.direction,n=g(v+" #s2id_form-widgets-marine_unit_id").select2("data"),i=g(n.element[0]).next(),n=g(n.element[0]).prev();"next"===e?t=i.val():"prev"===e&&(t=n.val()),g(v+" [name='form.widgets.page']").remove(),g(v+" #form-widgets-marine_unit_id").select2().val(t).trigger("change",{from_marine_widget:!0}),g(v+" #s2id_form-widgets-marine_unit_id").hide(),g(v+" .formControls #form-buttons-continue").trigger("click")}var r=".pagination-text > span:first-child";function S(){parseInt(g(g(".pagination-text > span:nth-child(2)")[0]).text())<3||(g(r).addClass("pagination-result"),0===g(r).parent().find("input").length&&(g(r).after('<input type="text" class="pagination-input" />'),g(".pagination-text .pagination-input").hide(),g(".pagination-text .pagination-input").bind("focusout",function(e){var t=g(e.target).val(),n=parseInt(g(g(e.target).parent().find("> span")[1]).text());if(o)return!1;g(this);n=function(e,t){if(isNaN(parseInt(e)))return!1;e=parseInt(e);var n=g(g(r)[0]).text();return e!==parseInt(n)&&(t<e?t-1:!(e<=0)&&(1===e?0:e-1))}(t,n);!1!==n?(g(v+" [name='form.widgets.page']").val(n),g(r).text(t),g(r).show(),g(r).parent().find("input").hide(),g(v+" .formControls #form-buttons-continue").trigger("click")):(g(e.target).val(""),g(r).parent().find("input").hide(),g(r).show())})),g(".msfd-search-wrapper").on("click",r,function(e){g(e.target).parent().find("input").show(300).focus().css("display","inline-block"),g(e.target).hide()}),g(".msfd-search-wrapper").on("click",function(e){g(e.target).is(r)||g(e.target).is(".pagination-text .pagination-input")||(g(r).parent().find("input").hide(),g(r).show())}))}function O(){var e,t,n=g(".prev-next-row").eq(0),i=(n.length&&g("#marine-widget-top").detach().insertBefore(n),n=g("#ajax-spinner"),g("body").append(n.clone(!0).attr("id","ajax-spinner2")),n.remove(),g(".button-field").addClass("btn"),g(v+" #s2id_form-widgets-marine_unit_id").parentsUntil(".field").parent().hide(),g("#form-buttons-continue").hide("fast"),n=g("#article132022form"),i=g("#article13form"),n.length&&i.length&&n.insertAfter(i),n=g("#form-buttons-download"),i=g(".center-section"),a=g("#wise-search-form-container > form"),0<n.length&&(i.find("#form-buttons-download").remove(),a=g("<button/>",{id:"form-buttons-download",type:"submit",form:a.attr("id"),name:"form.buttons.download",class:"ui button primary inverted",text:"Download as spreadsheet"}),i.append(a),n.remove()),g(v+", "+b).find("[data-fieldname]")),a=(0<i.length&&l(i,i.length),g(v+","+b).animate({opacity:1},1e3),g(".msfd-heading")),n=g(".msfd-start-link");a.length&&n.length&&a.insertAfter(n),g(v),(i=g(".controls")).on("click","a[data-value='all']",d),i.on("click","a[data-value='none']",p),i.on("click","a[data-value='invert']",f),i.one("click",".apply-filters",function(){g(v+" [name='form.widgets.page']").val(0),g(v+" .formControls #form-buttons-continue").trigger("click",{button:this})}),m(),_(),void 0!==h.setupTabs&&null!==h.setupTabs&&h.setupTabs(),"undefined"!=typeof clickFirstTab&&null!==clickFirstTab&&clickFirstTab(),a=g(".msfd-search-wrapper [name='form.buttons.prev']"),n=g(".msfd-search-wrapper [name='form.buttons.next']"),e=".formControls #form-buttons-continue",a.one("click",function(){if(o)return!1;g(v).find("form").append("<input type='hidden' name='form.buttons.prev' value='Prev'>"),g(v).find(e).trigger("click")}),n.one("click",function(){if(o)return!1;g(v).find("form").append("<input type='hidden' name='form.buttons.next' value='Next'>"),g(v).find(e).trigger("click")}),g(b+" select:not(.notselect)").val(),a=g(b+" select:not(.notselect) option"),t="#form-buttons-prev-top",n="#form-buttons-next-top",i="#marine-unit-trigger",g("#marine-unit-nav").hide(),g(b+" select:not(.notselect)").val()!==g(a[1]).val()?(g(t).append('<button type="submit" id="form-buttons-prev-top" name="marine.buttons.prev" class="submit-widget button-field btn btn-default pagination-prev" value="" button="">          </button>'),g(t).on("click",null,{direction:"prev"},I),g(t).hide(),g(i+" .arrow-left-container").one("click",function(){g(t).trigger("click")})):(g(i+" .arrow-left-container").hide(),g(".text-trigger").css("margin-left",0)),g(b+" select:not(.notselect)").val()!==g(a[a.length-1]).val()?(g(n).append('<button type="submit" id="form-buttons-next-top" name="marine.buttons.next"class="submit-widget button-field btn btn-default pagination-next" value=""></button>'),g(n).on("click",null,{direction:"next"},I),g(n).hide(),g(i+" .arrow-right-container").one("click",function(){g("#form-buttons-next-top").trigger("click")})):g(i+" .arrow-right-container").hide(),S()}function t(e,t){h.WISE.blocks=[],g(b+" .no-results").remove();var n,i=g("#ajax-spinner2").attr("id","ajax-spinner-form").show();g(v).append("<div id='wise-search-form-container-preloader'/>"),g("#wise-search-form-container-preloader").append(i),g("#form-widgets-marine_unit_id").prop("disabled",!0),g("[name='form.buttons.prev']").prop("disabled",!0),g("[name='form.buttons.next']").prop("disabled",!0),g("[name='marine.buttons.prev']").prop("disabled",!0),g("[name='marine.buttons.next']").prop("disabled",!0),0<g("#marine-widget-top").length?(n=g("#marine-widget-top").next()).css("position","relative"):n=g(".left-side-form"),n.prepend("<div id='wise-search-form-preloader'/>"),g("#wise-search-form-preloader").append("<span style='position: absolute; display: block; left: 50%;top: 10%;'></span>"),g("#wise-search-form-preloader > span").append(g("#ajax-spinner2").clone().attr("id","ajax-spinner-center").show()),g("#ajax-spinner-center").css({position:"fixed"}),g("#wise-search-form-top").find(".alert").remove(),o=!0}function j(e){t=e;var t=(t=new RegExp("sortabledata-([^ ]*)","g").exec(t.attr("class")))?t[1]:null;return"-"===(t=null===t?e.text():t).charAt(4)||"-"===t.charAt(7)||isNaN(parseFloat(t))?t.toLowerCase():parseFloat(t)}function U(){var n,i,a,e=g(this).closest("th"),e=g("th",g(this).closest("thead")).index(e),t=g(this).parents("table:first"),o=t.find("tbody:first"),r=parseInt(t.attr("sorted")||"-1",10)===e;g(this).parent().find("th:not(.nosort) .sortdirection").html("&#x2003;"),g(this).children(".sortdirection").html(r?"&#x25b2;":"&#x25bc;"),n=g(this).parent().children("th").index(this),i=[],a=!0,o.find("tr").each(function(){var e=g(this).children("td"),t=j(e.slice(n,n+1));isNaN(t)&&(a=!1),i.push([t,j(e.slice(1,2)),j(e.slice(0,1)),this])}),i.length&&(a?i.sort(function(e,t){return e[0]-t[0]}):i.sort(),r&&i.reverse(),t.attr("sorted",r?"":e),o.append(g.map(i,function(e){return e[3]})),o.each(T))}function T(){g(this).find("tr").removeClass("odd").removeClass("even").filter(":odd").addClass("even").end().filter(":even").addClass("odd")}function A(e,t){"success"===t&&g(v).fadeIn("fast",function(){g(b+" #wise-search-form-top").siblings().fadeIn("fast")}),g(b+" #loader-placeholder").remove(),g("#form-widgets-marine_unit_id").prop("disabled",!1),g(b+" select").hasClass("js-example-basic-single")&&(g(b+" .select2-choice").width()/2<=g(b+" #select2-chosen-3").width()?g(b+" .select2-choice").css("width","50%"):g(b+" .select2-choice").width()/3*2<=g(b+" #select2-chosen-3").width()&&g(b+" .select2-choice").css("width","70%")),0===g("#wise-search-form-top").next().length&&g(b+" #wise-search-form-top").after("<span class='no-results'>No results found.</span>"),o=!1;t=g("<span>&#x2003;</span>").addClass("sortdirection");g("table.listing:not(.nosort) thead th:not(.nosort)").append(t.clone()).css("cursor","pointer").click(U),g("table.listing:not(.nosort) tbody").each(T),"undefined"!=typeof scanforlinks&&jQuery(scanforlinks),z()}function L(e,t,n){g("#wise-search-form-top").find(".alert").remove(),g("#wise-search-form-top").append('<div class="alert alert-danger alert-dismissible show" style="margin-top: 2rem;" role="alert">  <strong>There was a error from the server.</strong> You should check in on some of those fields from the form.  <button type="button" class="ui button close" data-dismiss="alert" aria-label="Close">    <span aria-hidden="true">&times;</span>  </button></div>'),g("#form-widgets-marine_unit_id").prop("disabled",!1),g("#wise-search-form-container-preloader").remove(),g("#wise-search-form-preloader").remove(),g("#ajax-spinner-form").hide(),g("[name='form.buttons.prev']").prop("disabled",!0),g("[name='form.buttons.next']").prop("disabled",!0),g("[name='marine.buttons.prev']").prop("disabled",!0),g("[name='marine.buttons.next']").prop("disabled",!0),"undefined"!=typeof Storage&&c.removeItem("form"),o=!1}function D(e){g.each(g("#"+e).find(".option"),function(e,t){g(t).find("[type='checkbox']").prop("checked",!0)})}function E(r,s,e,l){e.includes("/marine/++api++")||(e=e.replace("/marine","/marine/++api++")),g.ajax({type:"POST",contentType:"multipart/form-data; boundary="+r,cache:!1,data:s,dataType:"html",url:e,beforeSend:t,success:function(e,t,n){var i,a,o;i=(o={boundary:r,data:s,formData:l}).data||null,a=o.boundary||null,o=o.formData||null,"undefined"!=typeof LZString&&(i=LZString.compressToEncodedURIComponent(i),o=LZString.compress(JSON.stringify(o)),"undefined"!=typeof Storage&&(c.setItem("form-"+W,i),c.setItem("boundary",a),c.setItem(W,o))),i=e,g(b+" #wise-search-form-top").siblings().html(""),g(b+" #wise-search-form-top").siblings().fadeOut("fast"),g(b+" .topnav").next().remove(),a=g(i),h.WISE.formData=g(i).find(v).clone(!0),i=a.find(v).html(),console.log("success"),g("#wise-search-form-preloader").remove(),o=a.find(b+" #wise-search-form-top").siblings(),g(v).html(i),0<a.find(b+" .topnav").next().length&&g(b+" .topnav").after(a.find(b+" .topnav").next()),g(b+" #wise-search-form-top").siblings().remove(),g(b+" #wise-search-form-top").after(o),O(),a=(i=g(".wise-search-form-container form").attr("action")||"").includes("/marine/++api++")?i:i.replace("/marine","/marine/++api++"),g(".wise-search-form-container form").attr("action",a),M(),R(),g("[name='form.buttons.prev']").prop("disabled",!1),g("[name='form.buttons.next']").prop("disabled",!1),g("[name='marine.buttons.prev']").prop("disabled",!1),g("[name='marine.buttons.next']").prop("disabled",!1),g("#wise-search-form-top").find(".alert").remove()},complete:A,error:L})}var W=h.location.pathname.substr(h.location.pathname.indexOf("@@"),h.location.pathname.length-1)||"defaultForm";function F(){if(null!==c.getItem("form-"+W))if("undefined"!=typeof LZString)try{var e,t=LZString.decompressFromEncodedURIComponent(c.getItem("form-"+W)),n=g(v).find("form"),i=g.getMultipartData("#"+n.attr("id")),a=c.getItem(W);g.getMultipartData("#"+n.attr("id"),c.getItem("boundary"));!function(e,i){var a=!1;try{var o=JSON.parse(e);g.each(Object.keys(o),function(e,t){var n=o[t];if(0<(void 0!==i[t]?i[t].filter(function(e){return-1===n.indexOf(e)}):[]).length)return!(a=!0)})}catch(e){return!1}return!!a}(LZString.decompress(a),i[2])?console.log("same data"):(e=n.attr("action"),E(c.getItem("boundary"),t,e))}catch(e){console.log(e)}else console.error("LZString not found")}function N(e){var t=g(this).attr("href").indexOf("@@"),n=g(this).attr("href");0<t&&(e.preventDefault(),e=g(this).attr("href").substr(t,n.length-1),c.removeItem(e),c.removeItem("form"),h.location.href=n)}function M(){g(".select-widget").find("option:contains('No value')").each(function(){g(this).remove()})}function R(){g(".table-report").fixTableHeaderAndCellsHeight()}function z(){g(".double-scroll").each(function(){var e,t=g(this),n=t.find("table"),i=n.outerWidth(includeMargin=!0);null==i||i<=n.parent().width()||(t.parent().before('<div class="cloned-scroll-top" style="overflow-x: auto;"><div style="height: 1px; margin-left: 165px;"></div></div>'),(e=t.parent().siblings(".cloned-scroll-top").first()).on("scroll",function(){t.scrollLeft(e.scrollLeft())}),t.scroll(function(){e.scrollLeft(t.scrollLeft())}),e.children().width(i))})}g.fn.fixTableHeaderAndCellsHeight=function(){this.each(function(){g("th",this).each(function(){var e=g(this),t=g("td",e.parent()),n=Math.max(t.height()),i=Math.max(e.height(),n);e.height(i),e.height()>=n&&t.height(e.height()),g("div",this).css("margin-top","-4px")})})},jQuery(x).ready(function(r){h.setTimeout(function(){O()},100);var e=r(".wise-search-form-container form").attr("action")||"";e=e.includes("/marine/++api++")?e:e.replace("/marine","/marine/++api++"),r(".wise-search-form-container form").attr("action",e);h.WISE={},h.WISE.formData=r(v).clone(!0),h.WISE.blocks=[],r(v).unbind("click").on("click",".formControls #form-buttons-continue",function(e){e.preventDefault();var i,n,t=arguments[1],a=t&&t.button,o=t&&t.select,a=(a=a,o=o,(i=t)&&!a&&!o||(n=function(e){var t=g(e).closest(".panel-group"),n=t.closest(".subform").find(".subform");t.nextAll(".panel-group").find(".panel").empty(),n.length?(n.hasClass("subform")&&n.empty(),n.find(".panel").empty(),n.find(".subform").empty()):g(e).parent().parent().next().empty()},t=function(e){var t=g(e).parent().next().attr("id"),n=g(e).closest(".panel-group"),e=(n.closest(".subform"),g(e).parent().parent().next());if(void 0!==i.from_marine_widget||!0===i.from_marine_widget)return!0;D("formfield-form-widgets-member_states"===t?t:"memberstatesform"),n.nextAll(".panel-group").find(".panel").empty(),e.length&&e.find(".subform").empty()},a?n(a):o?t(o):g(".ui-autocomplete-input").each(function(e,t){if(t.value)return n(t),!1})),r(v).find("form")),t=a.attr("action"),o=r.getMultipartData("#"+a.attr("id"));E(o[0],o[1],t,o[2])}),F(),r(".topnav a").on("click",N),M(),R(),z(),r(h).on("resize",function(){R()})})}(window,document,jQuery);
//# sourceMappingURL=msfd_search.js.map