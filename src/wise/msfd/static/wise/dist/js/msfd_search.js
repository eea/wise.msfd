!function(p,h,f){var n,a,r=["all","none","invert","apply"],u=".wise-search-form-container",m="#wise-search-form",c=(n=sessionStorage,a={},{getItem:function(e){return i()?n.getItem(e):a.hasOwnProperty(e)?a[e]:null},setItem:function(e,t){i()?n.setItem(e,t):a[e]=String(t)},removeItem:function(e){i()?n.removeItem(e):delete a[e]},clear:function(){i()?n.clear():a={}},key:function(e){return i()?n.key(e):Object.keys(a)[e]||null},length:0});function i(){try{var e="__some_random_key_you_are_not_going_to_use__";return n.setItem(e,e),n.removeItem(e),1}catch(e){return}}f.randomString=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="",n=0;n<8;n++){var a=Math.floor(Math.random()*e.length);t+=e.substring(a,a+1)}return t};var s=!(f.getMultipartData=function(e,t){var t=t||f.randomString(),n="--"+t,a="",i="\r\n",e=(f(e).attr("id"),f(e).serializeArray());if(0===e.length)return!1;var o=[],r={};return f.each(e,function(e,t){a+=n+i+'Content-Disposition: form-data; name="'+t.name+'"'+i+i+t.value+i,o.push(t.name),r[t.name]||(r[t.name]=[]),r[t.name].push(t.value)}),[t,a+=n+"--"+i,r]});function g(d){d.find(".ui-autocomplete-input").autocomplete({minLength:0,source:[],search:function(e){var n,a,i,o,t,e=e.target,r=d,s=r.find(".option .label:not(.horizontal) "),l=(t=s.parentsUntil(".option").parent()).find("input"),c=t.parent().find(".noresults");""!==f(e).val()?(r.find(".apply-filters").show(),t.removeClass("hidden"),l=f(e).val().toLowerCase().replace(/\s/g,"_"),a=new RegExp(f.ui.autocomplete.escapeRegex(l),"i"),i={},r.find(".option .label:not(.horizontal) ").map(function(e,t){return i[f(t).text().toLowerCase()]=f(t).text().toLowerCase().replace(/\s/g,"_"),f(t).text().toLowerCase().replace(/\s/g,"_")}),o=[],f.each(i,function(e,t){a.test(t)||o.push(e)}),t=s.filter(function(e,t){return-1!==o.indexOf(f(t).text().toLowerCase())}),e=s.filter(function(e,t){return-1===o.indexOf(f(t).text().toLowerCase())}),f.each(e,function(e,t){f(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!0)}),f.each(t,function(e,t){f(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!1),f(t).parentsUntil(".option").parent().find("input[type='checkbox']").prop("checked",!1),f(t).parentsUntil(".option").parent().find("input[type='checkbox']").removeAttr("checked"),f(t).parentsUntil(".option").parent().addClass("hidden")}),t.length===s.length?c.removeClass("hidden"):c.addClass("hidden")):(c.addClass("hidden"),t.removeClass("hidden"),(n=r.find(".panel").data("checked_items"))&&f.each(l,function(e,t){t.checked=-1!==n.indexOf(t.id)}))},create:function(){f(this).parentsUntil(".ui-autocomplete").find(".clear-btn ").on("click",null,this,function(e){f(this).parentsUntil(".controls").find("input").val(""),f(this).parentsUntil(".controls").find("input").trigger("change"),f(e.data).autocomplete("search","undefined")})}})}function v(n){var a,i,e;void 0!==p.WISE&&void 0!==p.WISE.blocks&&-1!==p.WISE.blocks.indexOf(n.attr("id"))||(a=[],f.each(n.find(".option input[type='checkbox']:not(:checked)"),function(e,t){a.push(f(t).parent())}),e=n.find(".option input[type='checkbox']:checked"),i=[],0<e.length&&f.each(e,function(e,t){i.push(f(t).parent())}),e=i.concat(a),f.each(e,function(e,t){n.find(".panel").append(t)}))}function l(e,t){var d=t;e.each(function(c,e){var t,n,a,i,o,r,s,e=f(e),l=e.find(".option");0<l.find("input[type='checkbox']").length&&(n=e.attr("id"),s=e,f("#"+n).on("click",".option",function(){var e=this;f("#ajax-spinner2").hide(),-1!==p.WISE.blocks.indexOf(f(this).parentsUntil(".field").parent().attr("id"))?v(s):p.setTimeout(function(){f(u+" .formControls #form-buttons-continue").trigger("click",{button:e})},300)}),e.find("> label.horizontal").after('<div class="controls"><span>Select :</span><a data-value="all"><label><span class="label">All</span></label></a><a data-value="none"><label><span class="label">Clear all</span></label></a><a data-value="invert"><label><span class="label">Invert selection</span></label></a><div class="btn btn-default apply-filters" data-value="apply"><span>Apply filters</span></div><div class="ui-autocomplete"><span class=" search-icon" ></span><span class="search-span"><input class="ui-autocomplete-input" type="text" /><span class="clear-btn"></span></div></div>'),l.each(function(e){var t=f(l[e]).text();f(l[e]).attr("title",t.trim())}),l.length<4?(e.find(".controls a").hide(),e.find(".controls").html("").css("height","1px").css("padding",0)):(n=l,(t=e).addClass("panel-group"),(i=t.find("> label.horizontal")).addClass("panel-title panel-heading"),(o=i.next(".wrapped-content")).length||(i.nextAll().wrapAll('<div class="wrapped-content"></div>'),o=i.next(".wrapped-content")),(r=o.find("> span:not(.controls)")).addClass("panel-default"),o.hide().removeClass("open"),i.removeClass("open"),i.off("click.accordion").on("click.accordion",function(e){e.stopPropagation();var e=f(this),t=e.next(".wrapped-content");t.is(":visible")?(t.hide().removeClass("open"),e.removeClass("open")):(f(".wrapped-content").hide().removeClass("open"),f(".panel-title").removeClass("open"),t.show().addClass("open"),e.addClass("open"))}),f(h).off("click.accordionOutside").on("click.accordionOutside",function(e){0===f(e.target).closest(".panel-group").length&&(f(".wrapped-content").hide().removeClass("open"),f(".panel-title").removeClass("open"))}),n.length<6?t.find(".controls .ui-autocomplete").hide():(r.append("<span class='noresults hidden'>No results found</span>"),r.data("checked_items",[]),a=r.data("checked_items"),f.each(t.find("input:checked"),function(e,t){a.push(t.id)}),g(t)),e.find(".search-icon").on("click",function(e){f(e.target).parent().find("input").trigger("focus")})),v(e)),--d||f(u+","+m).animate({opacity:1},1e3)})}function d(e){e.preventDefault();var e=f(this).parent().parent(),t=(p.WISE.blocks.push(f(this).parentsUntil(".field").parent().attr("id")),e.find(".apply-filters").show(),x(f(e).find("[type='checkbox']")));f.each(t,function(e){"all"!==f(t[e]).val()&&"none"!==f(t[e]).val()&&f(t[e]).prop("checked",!0)})}function b(e){e.preventDefault(),f(this).prop("checked",!1);var e=f(this).parent().parent(),t=(e.find(".apply-filters").show(),x(f(e).find("[type='checkbox']")));p.WISE.blocks.push(f(this).parentsUntil(".field").parent().attr("id")),f.each(t,function(e){f(t[e]).prop("checked",!1)})}function w(e){e.preventDefault(),f(this).prop("checked",!1);var e=f(this).parent().parent(),e=(e.find(".apply-filters").show(),p.WISE.blocks.push(f(this).parentsUntil(".field").parent().attr("id")),x(f(e).find("[type='checkbox']"))),t=e.filter(function(e,t){return f(t).is(":checked")}),n=e.filter(function(e,t){return!f(t).is(":checked")});f.each(t,function(e){f(t[e]).prop("checked",!1)}),f.each(n,function(e){f(n[e]).prop("checked",!0)})}function x(e){return e.filter(function(e,t){return-1===r.indexOf(f(t).val())})}function k(){var e=f(u+", "+m).find("[data-fieldname]");e.on("click",".option",function(e){f("#ajax-spinner2").hide();var t=f(this).find("input[type='checkbox']").val();-1!==p.WISE.blocks.indexOf(f(this).parentsUntil(".field").parent().attr("id"))||(t=t,e=e,f(u+" [name='form.widgets.page']").val(0),-1===r.indexOf(t)&&f(e.target).find("input[type='checkbox']").trigger("click"))})}function y(e){var o=["form-widgets-member_states-from","form-widgets-member_states-to"],r=e||u;f(r+" select").each(function(e,t){var n=f(t).attr("id");if(-1!==o.indexOf(n))return!1;f(t).addClass("js-example-basic-single");var n=f(t).find("option").length<10,a=f(r),i={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};n&&(i.minimumResultsForSearch=1/0),f(t).select2(i),f(r+" #s2id_form-widgets-marine_unit_id").hide();f(t).on("select2-selecting",function(e){f(this).attr("id"),a.find("[name='form.widgets.page']").remove();var t=this;p.setTimeout(function(){f(r+" .formControls #form-buttons-continue").trigger("click",{select:t})},300)})})}function C(e){var e=f(e.element[0]),t=e.attr("data-subtitle");return"<span>"+e.attr("data-maintitle")+": "+t+"</span>"}function _(){y(),n="#marine-unit-trigger",f(m+" select:not(.notselect)").hasClass("js-example-basic-single")||f(m+" select:not(.notselect)").addClass("js-example-basic-single").each(function(e,t){f(t).select2({placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!1,width:"auto",theme:"flat",minimumResultsForSearch:20,allowClear:!0,dropdownParent:"#marine-unit-trigger",dropdownAdapter:"AttachContainer",containerCssClass:"select2-top-override",dropdownCssClass:"select2-top-override-dropdown",debug:!0}),f(t).parentsUntil(".field").parent().prepend("<h4>Marine Unit ID: </h4>"),f(t).on("select2-open",function(){var e=f(n).offset().top;f(n+" .arrow").hide(),f(".select2-top-override-dropdown").css({top:e+f(n).height()-f(n+" .arrow").height()+"px","margin-top":"12px !important"})}),f(t).on("select2-selecting",function(e){f(u+" [name='form.widgets.page']").val(0),f(u+" #form-widgets-marine_unit_id").select2().val(e.val).trigger("change"),f(u+" .formControls #form-buttons-continue").trigger("click",{select:e.target,from_marine_widget:!0})}),f(t).on("select2-close",function(){f(n).css("background","transparent"),f(n+" a").css("background","transparent"),f(n+" .arrow").show()}),f(m+" select").hasClass("js-example-basic-single")&&(t=f(m+' select [value="'+jQuery(m+" .select-article select").val()+'"]').text(),f(m+" select:not(.notselect)").parentsUntil(".field").before('<div id="marine-unit-trigger"><div class="text-trigger">'+t+"</div></div>"),f(n).on("click",function(){if(s)return!1;f(n).css("background","rgb(238, 238, 238)"),f(n+" a").css("background","rgb(238, 238, 238)"),f(m+" select:not(.notselect)").select2("open");var e=f(n+" a").height();f(".select2-top-override-dropdown").css("margin-top",e/2+"px")}))}),e=f("#mobile-select-article"),void 0!==f.fn.select2&&(e.select2({placeholder:"Select an option",closeOnSelect:!0,width:"element",theme:"flat",minimumResultsForSearch:20,formatSelection:C,formatResult:C,containerCssClass:"mobile-select-article"}),e.one("select2-selecting",function(e){h.location.href=e.choice.id}));var n,e="auto",t=!0,a={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:t=p.matchMedia("(max-width: 967px)").matches?e=!1:t,width:e,theme:"flat",minimumResultsForSearch:20,containerCssClass:"extra-details-select"};f.each(f(m+" .extra-details-select"),function(e,t){1<f(t).find("option").length?f(t).select2(a):f(t).hide()}),f(m+" .extra-details .tab-panel").fadeOut("slow",function(){f.each(f(m+" .extra-details .extra-details-section"),function(e,t){f(f(t).find(".tab-panel")[0]).show()})}),f(m+" .extra-details-select").on("select2-selecting",function(n){var e=f(n.target).parentsUntil(".extra-details-section").parent();f.each(f(e).find(".tab-panel"),function(e,t){f(t).attr("id")!==n.choice.id?f(t).hide():f(t).fadeIn()})}),0<f(m+" .tab-content .tab-pane.fade").length&&(f(f(m+" .tab-content.msfd-extra-tab-content .tab-pane.fade")[0]).addClass("in active"),f(f(m+" .nav-tabs.msfd-extra-nav-tabs .nav-item")[0]).addClass("active"))}function I(e){var t,e=e.data.direction,n=f(u+" #s2id_form-widgets-marine_unit_id").select2("data"),a=f(n.element[0]).next(),n=f(n.element[0]).prev();"next"===e?t=a.val():"prev"===e&&(t=n.val()),f(u+" [name='form.widgets.page']").remove(),f(u+" #form-widgets-marine_unit_id").select2().val(t).trigger("change",{from_marine_widget:!0}),f(u+" #s2id_form-widgets-marine_unit_id").hide(),f(u+" .formControls #form-buttons-continue").trigger("click")}var o=".pagination-text > span:first-child";function S(){parseInt(f(f(".pagination-text > span:nth-child(2)")[0]).text())<3||(f(o).addClass("pagination-result"),0===f(o).parent().find("input").length&&(f(o).after('<input type="text" class="pagination-input" />'),f(".pagination-text .pagination-input").hide(),f(".pagination-text .pagination-input").bind("focusout",function(e){var t=f(e.target).val(),n=parseInt(f(f(e.target).parent().find("> span")[1]).text());if(s)return!1;f(this);n=function(e,t){if(isNaN(parseInt(e)))return!1;e=parseInt(e);var n=f(f(o)[0]).text();return e!==parseInt(n)&&(t<e?t-1:!(e<=0)&&(1===e?0:e-1))}(t,n);!1!==n?(f(u+" [name='form.widgets.page']").val(n),f(o).text(t),f(o).show(),f(o).parent().find("input").hide(),f(u+" .formControls #form-buttons-continue").trigger("click")):(f(e.target).val(""),f(o).parent().find("input").hide(),f(o).show())})),f(".msfd-search-wrapper").on("click",o,function(e){f(e.target).parent().find("input").show(300).focus().css("display","inline-block"),f(e.target).hide()}),f(".msfd-search-wrapper").on("click",function(e){f(e.target).is(o)||f(e.target).is(".pagination-text .pagination-input")||(f(o).parent().find("input").hide(),f(o).show())}))}function O(){var e,t,n,a,i=f(".prev-next-row").eq(0),o=(i.length&&f("#marine-widget-top").detach().insertBefore(i),i=f("#ajax-spinner"),f("body").append(i.clone(!0).attr("id","ajax-spinner2")),i.remove(),f(".button-field").addClass("btn"),f(u+" #s2id_form-widgets-marine_unit_id").parentsUntil(".field").parent().hide(),f("#form-buttons-continue").hide("fast"),i=f("#form-buttons-download"),e=f(".center-section"),0<i.length&&(r=i.prop("outerHTML").replace("input","button")+" <span>Download as spreadsheet</span>",o=i.parent(),i.remove(),o.append(f(r)),i=f("#form-buttons-download").val("Download as spreadsheet").addClass("ui button primary inverted"),e.length&&i.appendTo(e)),f(u+", "+m).find("[data-fieldname]")),r=(0<o.length&&l(o,o.length),f(u+","+m).animate({opacity:1},1e3),f(".msfd-heading")),i=f(".msfd-start-link");r.length&&i.length&&r.insertAfter(i),f(u),(e=f(".controls")).on("click","a[data-value='all']",d),e.on("click","a[data-value='none']",b),e.on("click","a[data-value='invert']",w),e.one("click",".apply-filters",function(){f(u+" [name='form.widgets.page']").val(0),f(u+" .formControls #form-buttons-continue").trigger("click",{button:this})}),k(),_(),void 0!==p.setupTabs&&null!==p.setupTabs&&p.setupTabs(),"undefined"!=typeof clickFirstTab&&null!==clickFirstTab&&clickFirstTab(),i=f(".msfd-search-wrapper [name='form.buttons.prev']"),e=f(".msfd-search-wrapper [name='form.buttons.next']"),t=".formControls #form-buttons-continue",i.one("click",function(){if(s)return!1;f(u).find("form").append("<input type='hidden' name='form.buttons.prev' value='Prev'>"),f(u).find(t).trigger("click")}),e.one("click",function(){if(s)return!1;f(u).find("form").append("<input type='hidden' name='form.buttons.next' value='Next'>"),f(u).find(t).trigger("click")}),f(m+" select:not(.notselect)").val(),i=f(m+" select:not(.notselect) option"),n="#form-buttons-prev-top",e="#form-buttons-next-top",a="#marine-unit-trigger",f("#marine-unit-nav").hide(),f(m+" select:not(.notselect)").val()!==f(i[1]).val()?(f(n).append('<button type="submit" id="form-buttons-prev-top" name="marine.buttons.prev" class="submit-widget button-field btn btn-default pagination-prev" value="" button="">          </button>'),f(n).on("click",null,{direction:"prev"},I),f(n).hide(),f(a+" .arrow-left-container").one("click",function(){f(n).trigger("click")})):(f(a+" .arrow-left-container").hide(),f(".text-trigger").css("margin-left",0)),f(m+" select:not(.notselect)").val()!==f(i[i.length-1]).val()?(f(e).append('<button type="submit" id="form-buttons-next-top" name="marine.buttons.next" class="submit-widget button-field btn btn-default pagination-next" value="">            </button>'),f(e).on("click",null,{direction:"next"},I),f(e).hide(),f(a+" .arrow-right-container").one("click",function(){f("#form-buttons-next-top").trigger("click")})):f(a+" .arrow-right-container").hide(),S()}function t(e,t){p.WISE.blocks=[],f(m+" .no-results").remove();var n,a=f("#ajax-spinner2").attr("id","ajax-spinner-form").show();f(u).append("<div id='wise-search-form-container-preloader'/>"),f("#wise-search-form-container-preloader").append(a),f("#form-widgets-marine_unit_id").prop("disabled",!0),f("[name='form.buttons.prev']").prop("disabled",!0),f("[name='form.buttons.next']").prop("disabled",!0),f("[name='marine.buttons.prev']").prop("disabled",!0),f("[name='marine.buttons.next']").prop("disabled",!0),0<f("#marine-widget-top").length?(n=f("#marine-widget-top").next()).css("position","relative"):n=f(".left-side-form"),n.prepend("<div id='wise-search-form-preloader'/>"),f("#wise-search-form-preloader").append("<span style='position: absolute; display: block; left: 50%;top: 10%;'></span>"),f("#wise-search-form-preloader > span").append(f("#ajax-spinner2").clone().attr("id","ajax-spinner-center").show()),f("#ajax-spinner-center").css({position:"fixed"}),f("#wise-search-form-top").find(".alert").remove(),s=!0}function j(e){t=e;var t=(t=new RegExp("sortabledata-([^ ]*)","g").exec(t.attr("class")))?t[1]:null;return"-"===(t=null===t?e.text():t).charAt(4)||"-"===t.charAt(7)||isNaN(parseFloat(t))?t.toLowerCase():parseFloat(t)}function U(){var n,a,i,e=f(this).closest("th"),e=f("th",f(this).closest("thead")).index(e),t=f(this).parents("table:first"),o=t.find("tbody:first"),r=parseInt(t.attr("sorted")||"-1",10)===e;f(this).parent().find("th:not(.nosort) .sortdirection").html("&#x2003;"),f(this).children(".sortdirection").html(r?"&#x25b2;":"&#x25bc;"),n=f(this).parent().children("th").index(this),a=[],i=!0,o.find("tr").each(function(){var e=f(this).children("td"),t=j(e.slice(n,n+1));isNaN(t)&&(i=!1),a.push([t,j(e.slice(1,2)),j(e.slice(0,1)),this])}),a.length&&(i?a.sort(function(e,t){return e[0]-t[0]}):a.sort(),r&&a.reverse(),t.attr("sorted",r?"":e),o.append(f.map(a,function(e){return e[3]})),o.each(L))}function L(){f(this).find("tr").removeClass("odd").removeClass("even").filter(":odd").addClass("even").end().filter(":even").addClass("odd")}function T(e,t){"success"===t&&f(u).fadeIn("fast",function(){f(m+" #wise-search-form-top").siblings().fadeIn("fast")}),f(m+" #loader-placeholder").remove(),f("#form-widgets-marine_unit_id").prop("disabled",!1),f(m+" select").hasClass("js-example-basic-single")&&(f(m+" .select2-choice").width()/2<=f(m+" #select2-chosen-3").width()?f(m+" .select2-choice").css("width","50%"):f(m+" .select2-choice").width()/3*2<=f(m+" #select2-chosen-3").width()&&f(m+" .select2-choice").css("width","70%")),0===f("#wise-search-form-top").next().length&&f(m+" #wise-search-form-top").after("<span class='no-results'>No results found.</span>"),s=!1;t=f("<span>&#x2003;</span>").addClass("sortdirection");f("table.listing:not(.nosort) thead th:not(.nosort)").append(t.clone()).css("cursor","pointer").click(U),f("table.listing:not(.nosort) tbody").each(L),"undefined"!=typeof scanforlinks&&jQuery(scanforlinks),Z()}function A(e,t,n){f("#wise-search-form-top").find(".alert").remove(),f("#wise-search-form-top").append('<div class="alert alert-danger alert-dismissible show" style="margin-top: 2rem;" role="alert">  <strong>There was a error from the server.</strong> You should check in on some of those fields from the form.  <button type="button" class="ui button close" data-dismiss="alert" aria-label="Close">    <span aria-hidden="true">&times;</span>  </button></div>'),f("#form-widgets-marine_unit_id").prop("disabled",!1),f("#wise-search-form-container-preloader").remove(),f("#wise-search-form-preloader").remove(),f("#ajax-spinner-form").hide(),f("[name='form.buttons.prev']").prop("disabled",!0),f("[name='form.buttons.next']").prop("disabled",!0),f("[name='marine.buttons.prev']").prop("disabled",!0),f("[name='marine.buttons.next']").prop("disabled",!0),"undefined"!=typeof Storage&&c.removeItem("form"),s=!1}function D(e){f.each(f("#"+e).find(".option"),function(e,t){f(t).find("[type='checkbox']").prop("checked",!0)})}function E(r,s,e,l){e.includes("/marine/++api++")||(e=e.replace("/marine","/marine/++api++")),f.ajax({type:"POST",contentType:"multipart/form-data; boundary="+r,cache:!1,data:s,dataType:"html",url:e,beforeSend:t,success:function(e,t,n){var a,i,o;a=(o={boundary:r,data:s,formData:l}).data||null,i=o.boundary||null,o=o.formData||null,"undefined"!=typeof LZString&&(a=LZString.compressToEncodedURIComponent(a),o=LZString.compress(JSON.stringify(o)),"undefined"!=typeof Storage&&(c.setItem("form-"+W,a),c.setItem("boundary",i),c.setItem(W,o))),a=e,f(m+" #wise-search-form-top").siblings().html(""),f(m+" #wise-search-form-top").siblings().fadeOut("fast"),f(m+" .topnav").next().remove(),i=f(a),p.WISE.formData=f(a).find(u).clone(!0),a=i.find(u).html(),console.log("success"),f("#wise-search-form-preloader").remove(),o=i.find(m+" #wise-search-form-top").siblings(),f(u).html(a),0<i.find(m+" .topnav").next().length&&f(m+" .topnav").after(i.find(m+" .topnav").next()),f(m+" #wise-search-form-top").siblings().remove(),f(m+" #wise-search-form-top").after(o),O(),i=(a=f(".wise-search-form-container form").attr("action")||"").includes("/marine/++api++")?a:a.replace("/marine","/marine/++api++"),f(".wise-search-form-container form").attr("action",i),F(),R(),f("[name='form.buttons.prev']").prop("disabled",!1),f("[name='form.buttons.next']").prop("disabled",!1),f("[name='marine.buttons.prev']").prop("disabled",!1),f("[name='marine.buttons.next']").prop("disabled",!1),f("#wise-search-form-top").find(".alert").remove()},complete:T,error:A})}var W=p.location.pathname.substr(p.location.pathname.indexOf("@@"),p.location.pathname.length-1)||"defaultForm";function M(){if(null!==c.getItem("form-"+W))if("undefined"!=typeof LZString)try{var e,t=LZString.decompressFromEncodedURIComponent(c.getItem("form-"+W)),n=f(u).find("form"),a=f.getMultipartData("#"+n.attr("id")),i=c.getItem(W);f.getMultipartData("#"+n.attr("id"),c.getItem("boundary"));!function(e,a){var i=!1;try{var o=JSON.parse(e);f.each(Object.keys(o),function(e,t){var n=o[t];if(0<(void 0!==a[t]?a[t].filter(function(e){return-1===n.indexOf(e)}):[]).length)return!(i=!0)})}catch(e){return!1}return!!i}(LZString.decompress(i),a[2])?console.log("same data"):(e=n.attr("action"),E(c.getItem("boundary"),t,e))}catch(e){console.log(e)}else console.error("LZString not found")}function N(e){var t=f(this).attr("href").indexOf("@@"),n=f(this).attr("href");0<t&&(e.preventDefault(),e=f(this).attr("href").substr(t,n.length-1),c.removeItem(e),c.removeItem("form"),p.location.href=n)}function F(){f(".select-widget").find("option:contains('No value')").each(function(){f(this).remove()})}function R(){f(".table-report").fixTableHeaderAndCellsHeight()}function Z(){f(".double-scroll").each(function(){var e,t=f(this),n=t.find("table"),a=n.outerWidth(includeMargin=!0);null==a||a<=n.parent().width()||(t.parent().before('<div class="cloned-scroll-top" style="overflow-x: auto;"><div style="height: 1px; margin-left: 165px;"></div></div>'),(e=t.parent().siblings(".cloned-scroll-top").first()).on("scroll",function(){t.scrollLeft(e.scrollLeft())}),t.scroll(function(){e.scrollLeft(t.scrollLeft())}),e.children().width(a))})}f.fn.fixTableHeaderAndCellsHeight=function(){this.each(function(){f("th",this).each(function(){var e=f(this),t=f("td",e.parent()),n=Math.max(t.height()),a=Math.max(e.height(),n);e.height(a),e.height()>=n&&t.height(e.height()),f("div",this).css("margin-top","-4px")})})},jQuery(h).ready(function(r){p.setTimeout(function(){O()},100);var e=r(".wise-search-form-container form").attr("action")||"";e=e.includes("/marine/++api++")?e:e.replace("/marine","/marine/++api++"),r(".wise-search-form-container form").attr("action",e);p.WISE={},p.WISE.formData=r(u).clone(!0),p.WISE.blocks=[],r(u).unbind("click").on("click",".formControls #form-buttons-continue",function(e){e.preventDefault();var a,n,t=arguments[1],i=t&&t.button,o=t&&t.select,i=(i=i,o=o,(a=t)&&!i&&!o||(n=function(e){var t=f(e).closest(".panel-group"),n=t.closest(".subform").find(".subform");t.nextAll(".panel-group").find(".panel").empty(),n.length?(n.hasClass("subform")&&n.empty(),n.find(".panel").empty(),n.find(".subform").empty()):f(e).parent().parent().next().empty()},t=function(e){var t=f(e).parent().next().attr("id"),n=f(e).closest(".panel-group"),e=(n.closest(".subform"),f(e).parent().parent().next());if(void 0!==a.from_marine_widget||!0===a.from_marine_widget)return!0;D("formfield-form-widgets-member_states"===t?t:"memberstatesform"),n.nextAll(".panel-group").find(".panel").empty(),e.length&&e.find(".subform").empty()},i?n(i):o?t(o):f(".ui-autocomplete-input").each(function(e,t){if(t.value)return n(t),!1})),r(u).find("form")),t=i.attr("action"),o=r.getMultipartData("#"+i.attr("id"));E(o[0],o[1],t,o[2])}),M(),r(".topnav a").on("click",N),F(),R(),Z()})}(window,document,jQuery);
//# sourceMappingURL=msfd_search.js.map