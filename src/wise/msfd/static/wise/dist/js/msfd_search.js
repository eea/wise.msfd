!function(c,d,p){var n,i,r=["all","none","invert","apply"],f=".wise-search-form-container",u="#wise-search-form",h=(n=sessionStorage,i={},{getItem:function(e){return s()?n.getItem(e):i.hasOwnProperty(e)?i[e]:null},setItem:function(e,t){s()?n.setItem(e,t):i[e]=String(t)},removeItem:function(e){s()?n.removeItem(e):delete i[e]},clear:function(){s()?n.clear():i={}},key:function(e){return s()?n.key(e):Object.keys(i)[e]||null},length:0});function s(){try{var e="__some_random_key_you_are_not_going_to_use__";return n.setItem(e,e),n.removeItem(e),1}catch(e){return}}p.randomString=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="",n=0;n<8;n++){var i=Math.floor(Math.random()*e.length);t+=e.substring(i,i+1)}return t};var o=!(p.getMultipartData=function(e,t){var t=t||p.randomString(),n="--"+t,i="",a="\r\n",e=(p(e).attr("id"),p(e).serializeArray());if(0===e.length)return!1;var o=[],r={};return p.each(e,function(e,t){i+=n+a+'Content-Disposition: form-data; name="'+t.name+'"'+a+a+t.value+a,o.push(t.name),r[t.name]||(r[t.name]=[]),r[t.name].push(t.value)}),[t,i+=n+"--"+a,r]});function l(e,t){var n,i=t.find(".option .label:not(.horizontal) "),a=i.parentsUntil(".option").parent(),o=a.find("input"),r=a.parent().find(".noresults");if(""===p(e).val())return r.addClass("hidden"),a.removeClass("hidden"),(n=t.find(".panel-content > div:not(.controls)").data("checked_items"))&&p.each(o,function(e,t){t.checked=-1!==n.indexOf(t.id)}),1;t.find(".apply-filters").show(),a.removeClass("hidden");var o=p(e).val().toLowerCase().replace(/\s/g,"_"),s=new RegExp(p.ui.autocomplete.escapeRegex(o),"i"),l={},c=(t.find(".option .label:not(.horizontal) ").map(function(e,t){return l[p(t).text().toLowerCase()]=p(t).text().toLowerCase().replace(/\s/g,"_"),p(t).text().toLowerCase().replace(/\s/g,"_")}),[]),a=(p.each(l,function(e,t){s.test(t)||c.push(e)}),i.filter(function(e,t){return-1!==c.indexOf(p(t).text().toLowerCase())})),e=i.filter(function(e,t){return-1===c.indexOf(p(t).text().toLowerCase())});p.each(e,function(e,t){p(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!0)}),p.each(a,function(e,t){p(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!1),p(t).parentsUntil(".option").parent().find("input[type='checkbox']").prop("checked",!1),p(t).parentsUntil(".option").parent().find("input[type='checkbox']").removeAttr("checked"),p(t).parentsUntil(".option").parent().addClass("hidden")}),a.length===i.length?r.removeClass("hidden"):r.addClass("hidden")}function m(){c.WISE=c.WISE||{},c.WISE.appliedFilters={},p(f+", "+u).find("[data-fieldname]").each(function(){var e=p(this),t=e.find("> label.horizontal").text().trim(),e=e.find("input[type='checkbox']:checked").map(function(){return p(this).closest(".option").text().trim()}).get();c.WISE.appliedFilters[t]=e}),p(d).trigger("filters:applied")}function g(e){var n,i=p(".msfd-search-wrapper"),t=(e.addClass("panel-group"),e.find("> label.form-label")),a=(t.addClass("panel-title panel-heading"),t.next(".panel-content")),o=(a.length||(t.nextAll().wrapAll('<div class="panel-content"></div>'),a=t.next(".panel-content")),a.children(".controls")),o=(o.length?1<o.length&&o.slice(1).remove():a.prepend('<div class="controls"><span>Select :</span><a data-value="all"><label><span class="label">All</span></label></a><a data-value="none"><label><span class="label">Clear all</span></label></a><a data-value="invert"><label><span class="label">Invert selection</span></label></a><div class="btn btn-default apply-filters" data-value="apply"><span>Apply filters</span></div><div class="ui-autocomplete"><span class="search-span"><input class="ui-autocomplete-input" type="text" placeholder="Quick search"/><span class="clear-btn"></span></div></div>'),a.find("> div:not(.controls)")),r=(o.addClass("panel-default"),a.hide().removeClass("open"),t.removeClass("open"),t.off("click.accordion").on("click.accordion",function(e){e.stopPropagation();var e=p(this),t=e.next(".panel-content");t.is(":visible")?(t.hide().removeClass("open"),e.removeClass("open"),0===p(".panel-content.open").length&&i.find(".dimmer").remove()):(p(".panel-content").hide().removeClass("open"),p(".panel-title").removeClass("open"),i.find(".dimmer").remove(),t.show().addClass("open"),e.addClass("open"),i.append('<div class="dimmer"/>'))}),p(d).off("click.accordionOutside").on("click.accordionOutside",function(e){0===p(e.target).closest(".panel-group").length&&(p(".panel-content").hide().removeClass("open"),p(".panel-title").removeClass("open"),i.find(".dimmer").remove())}),o.append("<span class='noresults hidden'>No results found</span>"),o.data("checked_items",[]),o.data("checked_items")),a=(p.each(e.find("input:checked"),function(e,t){r.push(t.id)}),(n=e).find(".ui-autocomplete-input").autocomplete({minLength:0,source:[],search:function(e){l(e.target,n)},create:function(){var t=this;p(this).closest(".ui-autocomplete").find(".clear-btn").on("click",function(e){p(t).val(""),p(t).trigger("change"),l(t,n)})}}),p(".panel-title").closest(".subform"));a.length&&!a.parent().hasClass("subforms-wrapper")&&(a.wrapAll('<div class="subforms-wrapper"></div>'),(t=a.first().closest("form")).length&&t.append(t.find(".subforms-wrapper")))}function v(n){var i,a,e;void 0!==c.WISE&&void 0!==c.WISE.blocks&&-1!==c.WISE.blocks.indexOf(n.attr("id"))||(i=[],p.each(n.find(".option input[type='checkbox']:not(:checked)"),function(e,t){i.push(p(t).parent())}),e=n.find(".option input[type='checkbox']:checked"),a=[],0<e.length&&p.each(e,function(e,t){a.push(p(t).parent())}),e=a.concat(i),p.each(e,function(e,t){n.find(".panel").append(t)}))}function b(e,t){var l=t;e.each(function(e,t){var n,o,i,a,t=p(t),r=t.find(".option");function s(){o.empty();var e=c.WISE&&c.WISE.appliedFilters||{};p.each(e,function(i,e){var a;e&&e.length&&((a=p('<div class="active-filter-group"></div>')).append('<span class="filter-group-title">'+i+":</span>"),e.forEach(function(e){var t=p("[data-fieldname]").filter(function(){return p(this).find("> label.horizontal").text().trim()===i}).find("input[type='checkbox']").filter(function(){return p(this).parent().text().trim()===e}).attr("id")||"",n=p('<span class="active-filter-item" data-id="'+t+'">'+e+'<button type="button" class="ui button clear-filter"><i class="fa fa-times" aria-hidden="true"></i></button></span>');n.find(".clear-filter").on("click",function(e){e.preventDefault(),!t||(e=p("#"+t)).length&&e.is(":checked")&&e.closest(".option").trigger("click")}),a.append(n)}),o.append(a))})}0<r.find("input[type='checkbox']").length&&(n=t.attr("id"),a=t,p("#"+n).on("click",".option",function(){var e=this;p("#ajax-spinner2").hide(),-1!==c.WISE.blocks.indexOf(p(this).parentsUntil(".field").parent().attr("id"))?v(a):c.setTimeout(function(){p(f+" .formControls #form-buttons-continue").trigger("click",{button:e})},300)}),r.each(function(e){var t=p(r[e]).text();p(r[e]).attr("title",t.trim())}),g(t),n=p(".active-filters-section"),o=p(".active-filters-list"),i=(n=n.find(".active-filters-header")).find("i.fa"),o.hide(),n.off("click.activeFiltersToggle").on("click.activeFiltersToggle",function(){o.slideToggle(200),i.toggleClass("fa-chevron-up fa-chevron-down")}),p(d).off("filters:applied.render").on("filters:applied.render",s),s(),t.find(".search-icon").on("click",function(e){p(e.target).parent().find("input").trigger("focus")}),v(t)),--l||p(f+","+u).animate({opacity:1},1e3)})}function x(e){e.preventDefault();var e=p(this).parent().parent(),t=(c.WISE.blocks.push(p(this).parentsUntil(".field").parent().attr("id")),e.find(".apply-filters").show(),y(p(e).find("[type='checkbox']")));p.each(t,function(e){"all"!==p(t[e]).val()&&"none"!==p(t[e]).val()&&p(t[e]).prop("checked",!0)})}function w(e){e.preventDefault(),p(this).prop("checked",!1);var e=p(this).parent().parent(),t=(e.find(".apply-filters").show(),y(p(e).find("[type='checkbox']")));c.WISE.blocks.push(p(this).parentsUntil(".field").parent().attr("id")),p.each(t,function(e){p(t[e]).prop("checked",!1)})}function k(e){e.preventDefault(),p(this).prop("checked",!1);var e=p(this).parent().parent(),e=(e.find(".apply-filters").show(),c.WISE.blocks.push(p(this).parentsUntil(".field").parent().attr("id")),y(p(e).find("[type='checkbox']"))),t=e.filter(function(e,t){return p(t).is(":checked")}),n=e.filter(function(e,t){return!p(t).is(":checked")});p.each(t,function(e){p(t[e]).prop("checked",!1)}),p.each(n,function(e){p(n[e]).prop("checked",!0)})}function y(e){return e.filter(function(e,t){return-1===r.indexOf(p(t).val())})}function C(){var e=p(f+", "+u).find("[data-fieldname]");e.off("click",'.form-check, input[type="checkbox"]'),e.on("click",'.form-check, input[type="checkbox"]',function(e){e.stopPropagation(),p("#ajax-spinner2").hide();var t=p(this).is('input[type="checkbox"]')?p(this):p(this).find("input[type='checkbox']"),n=t.val();-1!==c.WISE.blocks.indexOf(t.closest(".field").attr("id"))?t.prop("checked",!t.prop("checked")):(t=n,n=e,p(f+" [name='form.widgets.page']").val(0),-1===r.indexOf(t)&&(p(n.target).is("input[type='checkbox']")?p(n.target).trigger("change"):p(n.target).find("input[type='checkbox']").trigger("click")))})}function I(e){var o=["form-widgets-member_states-from","form-widgets-member_states-to"],r=e||f;p(r+" select").each(function(e,t){var n=p(t).attr("id");if(-1!==o.indexOf(n))return!1;p(t).addClass("js-example-basic-single");var n=p(t).find("option").length<10,i=p(r),a={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};n&&(a.minimumResultsForSearch=1/0),p(t).select2(a),p(r+" #s2id_form-widgets-marine_unit_id").hide();p(t).on("select2-selecting",function(e){p(this).attr("id"),i.find("[name='form.widgets.page']").remove();var t=this;c.setTimeout(function(){p(r+" .formControls #form-buttons-continue").trigger("click",{select:t})},300)})})}function S(e){var e=p(e.element[0]),t=e.attr("data-subtitle");return"<span>"+e.attr("data-maintitle")+": "+t+"</span>"}function _(){I(),n="#marine-unit-trigger",p(u+" select:not(.notselect)").hasClass("js-example-basic-single")||p(u+" select:not(.notselect)").addClass("js-example-basic-single").each(function(e,t){p(t).select2({placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!1,width:"auto",theme:"flat",minimumResultsForSearch:20,allowClear:!0,dropdownParent:"#marine-unit-trigger",dropdownAdapter:"AttachContainer",containerCssClass:"select2-top-override",dropdownCssClass:"select2-top-override-dropdown",debug:!0}),p(t).parentsUntil(".field").parent().prepend("<h4>Marine Unit ID: </h4>"),p(t).on("select2-open",function(){var e=p(n).offset().top;p(n+" .arrow").hide(),p(".select2-top-override-dropdown").css({top:e+p(n).height()-p(n+" .arrow").height()+"px","margin-top":"12px !important"})}),p(t).on("select2-selecting",function(e){p(f+" [name='form.widgets.page']").val(0),p(f+" #form-widgets-marine_unit_id").select2().val(e.val).trigger("change"),p(f+" .formControls #form-buttons-continue").trigger("click",{select:e.target,from_marine_widget:!0})}),p(t).on("select2-close",function(){p(n).css("background","transparent"),p(n+" a").css("background","transparent"),p(n+" .arrow").show()}),p(u+" select").hasClass("js-example-basic-single")&&(t=p(u+' select [value="'+jQuery(u+" .select-article select").val()+'"]').text(),p(u+" select:not(.notselect)").parentsUntil(".field").before('<div id="marine-unit-trigger"><div class="text-trigger">'+t+"</div></div>"),p(n).on("click",function(){if(o)return!1;p(n).css("background","rgb(238, 238, 238)"),p(n+" a").css("background","rgb(238, 238, 238)"),p(u+" select:not(.notselect)").select2("open");var e=p(n+" a").height();p(".select2-top-override-dropdown").css("margin-top",e/2+"px")}))}),e=p("#mobile-select-article"),void 0!==p.fn.select2&&(e.select2({placeholder:"Select an option",closeOnSelect:!0,width:"element",theme:"flat",minimumResultsForSearch:20,formatSelection:S,formatResult:S,containerCssClass:"mobile-select-article"}),e.one("select2-selecting",function(e){d.location.href=d.location.pathname.split("/").slice(0,-1).join("/")+e.choice.id.replace("./","/")}));var n,e="auto",t=!0,i={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:t=c.matchMedia("(max-width: 967px)").matches?e=!1:t,width:e,theme:"flat",minimumResultsForSearch:20,containerCssClass:"extra-details-select"};p.each(p(u+" .extra-details-select"),function(e,t){1<p(t).find("option").length?p(t).select2(i):p(t).hide()}),p(u+" .extra-details .tab-panel").fadeOut("slow",function(){p.each(p(u+" .extra-details .extra-details-section"),function(e,t){p(p(t).find(".tab-panel")[0]).show()})}),p(u+" .extra-details-select").on("select2-selecting",function(n){var e=p(n.target).parentsUntil(".extra-details-section").parent();p.each(p(e).find(".tab-panel"),function(e,t){p(t).attr("id")!==n.choice.id?p(t).hide():p(t).fadeIn()})}),0<p(u+" .tab-content .tab-pane.fade").length&&(p(p(u+" .tab-content.msfd-extra-tab-content .tab-pane.fade")[0]).addClass("in active"),p(p(u+" .nav-tabs.msfd-extra-nav-tabs .nav-item")[0]).addClass("active"))}function O(e){var t,e=e.data.direction,n=p(f+" #s2id_form-widgets-marine_unit_id").select2("data"),i=p(n.element[0]).next(),n=p(n.element[0]).prev();"next"===e?t=i.val():"prev"===e&&(t=n.val()),p(f+" [name='form.widgets.page']").remove(),p(f+" #form-widgets-marine_unit_id").select2().val(t).trigger("change",{from_marine_widget:!0}),p(f+" #s2id_form-widgets-marine_unit_id").hide(),p(f+" .formControls #form-buttons-continue").trigger("click")}var a=".pagination-text > span:first-child";function E(){parseInt(p(p(".pagination-text > span:nth-child(2)")[0]).text())<3||(p(a).addClass("pagination-result"),0===p(a).parent().find("input").length&&(p(a).after('<input type="text" class="pagination-input" />'),p(".pagination-text .pagination-input").hide(),p(".pagination-text .pagination-input").bind("focusout",function(e){var t=p(e.target).val(),n=parseInt(p(p(e.target).parent().find("> span")[1]).text());if(o)return!1;p(this);n=function(e,t){if(isNaN(parseInt(e)))return!1;e=parseInt(e);var n=p(p(a)[0]).text();return e!==parseInt(n)&&(t<e?t-1:!(e<=0)&&(1===e?0:e-1))}(t,n);!1!==n?(p(f+" [name='form.widgets.page']").val(n),p(a).text(t),p(a).show(),p(a).parent().find("input").hide(),p(f+" .formControls #form-buttons-continue").trigger("click")):(p(e.target).val(""),p(a).parent().find("input").hide(),p(a).show())})),p(".msfd-search-wrapper").on("click",a,function(e){p(e.target).parent().find("input").show(300).focus().css("display","inline-block"),p(e.target).hide()}),p(".msfd-search-wrapper").on("click",function(e){p(e.target).is(a)||p(e.target).is(".pagination-text .pagination-input")||(p(a).parent().find("input").hide(),p(a).show())}))}function T(){p(".form-check").addClass("option"),p(".form-label").addClass("horizontal");var e,t,n=p(".prev-next-row").eq(0),i=(n.length&&p("#marine-widget-top").detach().insertBefore(n),n=p("#ajax-spinner"),p("body").append(n.clone(!0).attr("id","ajax-spinner2")),n.remove(),p(".button-field").addClass("btn"),p(f+" #s2id_form-widgets-marine_unit_id").parentsUntil(".field").parent().hide(),p("#form-buttons-continue").hide("fast"),n=p("#article132022form"),i=p("#article13form"),n.length&&i.length&&n.insertAfter(i),n=p("#form-buttons-download"),i=p(".center-section"),a=p("#wise-search-form-container > form"),0<n.length&&(i.find("#form-buttons-download").remove(),a=p("<button/>",{id:"form-buttons-download",type:"submit",form:a.attr("id"),name:"form.buttons.download",class:"ui button primary inverted",text:"Download as spreadsheet"}),i.append(a),n.remove()),p(f+", "+u).find("[data-fieldname]")),a=(p(f+","+u).animate({opacity:1},1e3),0<i.length&&b(i,i.length),p(".msfd-heading")),n=p(".msfd-start-link");a.length&&n.length&&a.insertAfter(n),p(f),(i=p(".controls")).on("click","a[data-value='all']",x),i.on("click","a[data-value='none']",w),i.on("click","a[data-value='invert']",k),i.one("click",".apply-filters",function(){p(f+" [name='form.widgets.page']").val(0),p(f+" .formControls #form-buttons-continue").trigger("click",{button:this})}),C(),_(),void 0!==c.setupTabs&&null!==c.setupTabs&&c.setupTabs(),"undefined"!=typeof clickFirstTab&&null!==clickFirstTab&&clickFirstTab(),a=p(".msfd-search-wrapper [name='form.buttons.prev']"),n=p(".msfd-search-wrapper [name='form.buttons.next']"),e=".formControls #form-buttons-continue",a.one("click",function(){if(o)return!1;p(f).find("form").append("<input type='hidden' name='form.buttons.prev' value='Prev'>"),p(f).find(e).trigger("click")}),n.one("click",function(){if(o)return!1;p(f).find("form").append("<input type='hidden' name='form.buttons.next' value='Next'>"),p(f).find(e).trigger("click")}),p(u+" select:not(.notselect)").val(),a=p(u+" select:not(.notselect) option"),t="#form-buttons-prev-top",n="#form-buttons-next-top",i="#marine-unit-trigger",p("#marine-unit-nav").hide(),p(u+" select:not(.notselect)").val()!==p(a[1]).val()?(p(t).append('<button type="submit" id="form-buttons-prev-top" name="marine.buttons.prev" class="submit-widget button-field btn btn-default pagination-prev" value="" button="">          </button>'),p(t).on("click",null,{direction:"prev"},O),p(t).hide(),p(i+" .arrow-left-container").one("click",function(){p(t).trigger("click")})):(p(i+" .arrow-left-container").hide(),p(".text-trigger").css("margin-left",0)),p(u+" select:not(.notselect)").val()!==p(a[a.length-1]).val()?(p(n).append('<button type="submit" id="form-buttons-next-top" name="marine.buttons.next"class="submit-widget button-field btn btn-default pagination-next" value=""></button>'),p(n).on("click",null,{direction:"next"},O),p(n).hide(),p(i+" .arrow-right-container").one("click",function(){p("#form-buttons-next-top").trigger("click")})):p(i+" .arrow-right-container").hide(),E(),m()}function t(e,t){c.WISE.blocks=[],p(u+" .no-results").remove(),p("#form-widgets-marine_unit_id").prop("disabled",!0),p("[name='form.buttons.prev'], [name='form.buttons.next']").prop("disabled",!0),p("[name='marine.buttons.prev'], [name='marine.buttons.next']").prop("disabled",!0);var n=0<p("#marine-widget-top").length?p("#marine-widget-top").next():p(".left-side-form");n.css("position","relative"),n.prepend("<div id='wise-search-form-preloader'/>"),p("#wise-search-form-preloader").append("<span style='position: absolute; display: block; left: 50%; top: 50%;'></span>"),p("#wise-search-form-preloader > span").append(p("#ajax-spinner2").clone().attr("id","ajax-spinner-center").show()),p("#ajax-spinner-center").css({position:"fixed"}),p("#wise-search-form-top").find(".alert").remove(),o=!0}function W(e){t=e;var t=(t=new RegExp("sortabledata-([^ ]*)","g").exec(t.attr("class")))?t[1]:null;return"-"===(t=null===t?e.text():t).charAt(4)||"-"===t.charAt(7)||isNaN(parseFloat(t))?t.toLowerCase():parseFloat(t)}function j(){var n,i,a,e=p(this).closest("th"),e=p("th",p(this).closest("thead")).index(e),t=p(this).parents("table:first"),o=t.find("tbody:first"),r=parseInt(t.attr("sorted")||"-1",10)===e;p(this).parent().find("th:not(.nosort) .sortdirection").html("&#x2003;"),p(this).children(".sortdirection").html(r?"&#x25b2;":"&#x25bc;"),n=p(this).parent().children("th").index(this),i=[],a=!0,o.find("tr").each(function(){var e=p(this).children("td"),t=W(e.slice(n,n+1));isNaN(t)&&(a=!1),i.push([t,W(e.slice(1,2)),W(e.slice(0,1)),this])}),i.length&&(a?i.sort(function(e,t){return e[0]-t[0]}):i.sort(),r&&i.reverse(),t.attr("sorted",r?"":e),o.append(p.map(i,function(e){return e[3]})),o.each(L))}function L(){p(this).find("tr").removeClass("odd").removeClass("even").filter(":odd").addClass("even").end().filter(":even").addClass("odd")}function A(e,t){"success"===t&&p(f).fadeIn("fast",function(){p(u+" #wise-search-form-top").siblings().fadeIn("fast",function(){setTimeout(function(){z()},50)})}),p(u+" #loader-placeholder").remove(),p("#form-widgets-marine_unit_id").prop("disabled",!1),p(u+" select").hasClass("js-example-basic-single")&&(p(u+" .select2-choice").width()/2<=p(u+" #select2-chosen-3").width()?p(u+" .select2-choice").css("width","50%"):p(u+" .select2-choice").width()/3*2<=p(u+" #select2-chosen-3").width()&&p(u+" .select2-choice").css("width","70%")),0===p("#wise-search-form-top").next().length&&p(u+" #wise-search-form-top").after("<span class='no-results'>No results found.</span>"),o=!1;t=p("<span>&#x2003;</span>").addClass("sortdirection");p("table.listing:not(.nosort) thead th:not(.nosort)").append(t.clone()).css("cursor","pointer").click(j),p("table.listing:not(.nosort) tbody").each(L),"undefined"!=typeof scanforlinks&&jQuery(scanforlinks),setTimeout(function(){z()},300),Z()}function D(e,t,n){p("#wise-search-form-top").find(".alert").remove(),p("#wise-search-form-top").append('<div class="alert alert-danger alert-dismissible show" style="margin-top: 2rem;" role="alert">  <strong>There was a error from the server.</strong> You should check in on some of those fields from the form.  <button type="button" class="ui button close" data-dismiss="alert" aria-label="Close">    <span aria-hidden="true">&times;</span>  </button></div>'),p("#form-widgets-marine_unit_id").prop("disabled",!1),p("#wise-search-form-container-preloader").remove(),p("#wise-search-form-preloader").remove(),p("#ajax-spinner-form").hide(),p("[name='form.buttons.prev']").prop("disabled",!0),p("[name='form.buttons.next']").prop("disabled",!0),p("[name='marine.buttons.prev']").prop("disabled",!0),p("[name='marine.buttons.next']").prop("disabled",!0),"undefined"!=typeof Storage&&h.removeItem("form"),o=!1}function U(r,s,e,l){(e=e.includes("/marine/++api++")?e:e.replace("/marine/","/marine/++api++/")).includes("localhost")&&(e=e.replace("http://localhost:3000/","http://localhost:3000/++api++/")),p.ajax({type:"POST",contentType:"multipart/form-data; boundary="+r,cache:!1,data:s,dataType:"html",url:e,beforeSend:t,success:function(e,t,n){var i,a,o;i=(o={boundary:r,data:s,formData:l}).data||null,a=o.boundary||null,o=o.formData||null,"undefined"!=typeof LZString&&(i=LZString.compressToEncodedURIComponent(i),o=LZString.compress(JSON.stringify(o)),"undefined"!=typeof Storage&&(h.setItem("form-"+F,i),h.setItem("boundary",a),h.setItem(F,o))),i=e,p(u+" #wise-search-form-top").siblings().html(""),p(u+" #wise-search-form-top").siblings().fadeOut("fast"),p(u+" .topnav").next().remove(),a=p(i),c.WISE.formData=p(i).find(f).clone(!0),i=a.find(f).html(),console.log("success"),p("#wise-search-form-preloader").remove(),o=a.find(u+" #wise-search-form-top").siblings(),p(f).html(i),0<a.find(u+" .topnav").next().length&&p(u+" .topnav").after(a.find(u+" .topnav").next()),p(u+" #wise-search-form-top").siblings().remove(),p(u+" #wise-search-form-top").after(o),T(),m(),a=(i=p(".wise-search-form-container form").attr("action")||"").includes("/marine/++api++")?i:i.replace("/marine/","/marine/++api++/"),p(".wise-search-form-container form").attr("action",a),R(),setTimeout(function(){z()},300),p("[name='form.buttons.prev']").prop("disabled",!1),p("[name='form.buttons.next']").prop("disabled",!1),p("[name='marine.buttons.prev']").prop("disabled",!1),p("[name='marine.buttons.next']").prop("disabled",!1),p("#wise-search-form-top").find(".alert").remove()},complete:A,error:D})}var F=c.location.pathname.substr(c.location.pathname.indexOf("@@"),c.location.pathname.length-1)||"defaultForm";function N(){if(null!==h.getItem("form-"+F))if("undefined"!=typeof LZString)try{var e,t=LZString.decompressFromEncodedURIComponent(h.getItem("form-"+F)),n=p(f).find("form"),i=p.getMultipartData("#"+n.attr("id")),a=h.getItem(F);p.getMultipartData("#"+n.attr("id"),h.getItem("boundary"));!function(e,i){var a=!1;try{var o=JSON.parse(e);p.each(Object.keys(o),function(e,t){var n=o[t];if(0<(void 0!==i[t]?i[t].filter(function(e){return-1===n.indexOf(e)}):[]).length)return!(a=!0)})}catch(e){return!1}return!!a}(LZString.decompress(a),i[2])?console.log("same data"):(e=n.attr("action"),U(h.getItem("boundary"),t,e))}catch(e){console.log(e)}else console.error("LZString not found")}function M(e){var t=p(this).attr("href").indexOf("@@"),n=p(this).attr("href");0<t&&(e.preventDefault(),e=p(this).attr("href").substr(t,n.length-1),h.removeItem(e),h.removeItem("form"),c.location.href=n)}function R(){p(".select-widget").find("option:contains('No value')").each(function(){p(this).remove()})}function z(){p(".table-report").fixTableHeaderAndCellsHeight()}function Z(){p(".double-scroll").each(function(){var e,t=p(this),n=t.find("table"),i=n.outerWidth(includeMargin=!0);null==i||i<=n.parent().width()||(t.parent().before('<div class="cloned-scroll-top" style="overflow-x: auto;"><div style="height: 1px; margin-left: 165px;"></div></div>'),(e=t.parent().siblings(".cloned-scroll-top").first()).on("scroll",function(){t.scrollLeft(e.scrollLeft())}),t.scroll(function(){e.scrollLeft(t.scrollLeft())}),e.children().width(i))})}p.fn.fixTableHeaderAndCellsHeight=function(){this.each(function(){p(this).find("tr").each(function(){var e,t,n=p(this),i=n.find("th"),n=n.find("td");i.length&&(e=0,n.each(function(){e=Math.max(e,p(this).height())}),t=Math.max(i.height(),e,30),i.height(t),n.height(t))})})},jQuery(d).ready(function(i){c.setTimeout(function(){T()},100);var e=i(".wise-search-form-container form").attr("action")||"";e=e.includes("/marine/++api++")?e:e.replace("/marine/","/marine/++api++/"),i(".wise-search-form-container form").attr("action",e);c.WISE={},c.WISE.formData=i(f).clone(!0),c.WISE.blocks=[],i(f).unbind("click").on("click",".formControls #form-buttons-continue",function(e){e.preventDefault();0<i(arguments[1].button).closest(".subforms-wrapper").length||i(".subforms-wrapper").empty();var t=i(f).find("form"),n=t.attr("action"),t=i.getMultipartData("#"+t.attr("id"));U(t[0],t[1],n,t[2])}),N(),i(".topnav a").on("click",M),R(),setTimeout(function(){z()},300),Z(),i(c).on("resize",function(){z()})})}(window,document,jQuery);
//# sourceMappingURL=msfd_search.js.map