!function(f,g,u){var n,a,r=["all","none","invert","apply"],m=".wise-search-form-container",h="#wise-search-form",c=(n=sessionStorage,a={},{getItem:function(e){return i()?n.getItem(e):a.hasOwnProperty(e)?a[e]:null},setItem:function(e,t){i()?n.setItem(e,t):a[e]=String(t)},removeItem:function(e){i()?n.removeItem(e):delete a[e]},clear:function(){i()?n.clear():a={}},key:function(e){return i()?n.key(e):Object.keys(a)[e]||null},length:0});function i(){try{var e="__some_random_key_you_are_not_going_to_use__";return n.setItem(e,e),n.removeItem(e),1}catch(e){return}}u.randomString=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="",n=0;n<8;n++){var a=Math.floor(Math.random()*e.length);t+=e.substring(a,a+1)}return t};var s=!(u.getMultipartData=function(e,t){var t=t||u.randomString(),n="--"+t,a="",i="\r\n",e=(u(e).attr("id"),u(e).serializeArray());if(0===e.length)return!1;var o=[],r={};return u.each(e,function(e,t){a+=n+i+'Content-Disposition: form-data; name="'+t.name+'"'+i+i+t.value+i,o.push(t.name),r[t.name]||(r[t.name]=[]),r[t.name].push(t.value)}),[t,a+=n+"--"+i,r]});function v(d){d.find(".ui-autocomplete-input").autocomplete({minLength:0,source:[],search:function(e){var n,a,i,o,t,e=e.target,r=d,s=r.find(".option .label:not(.horizontal) "),l=(t=s.parentsUntil(".option").parent()).find("input"),c=t.parent().find(".noresults");""!==u(e).val()?(r.find(".apply-filters").show(),t.removeClass("hidden"),l=u(e).val().toLowerCase().replace(/\s/g,"_"),a=new RegExp(u.ui.autocomplete.escapeRegex(l),"i"),i={},r.find(".option .label:not(.horizontal) ").map(function(e,t){return i[u(t).text().toLowerCase()]=u(t).text().toLowerCase().replace(/\s/g,"_"),u(t).text().toLowerCase().replace(/\s/g,"_")}),o=[],u.each(i,function(e,t){a.test(t)||o.push(e)}),t=s.filter(function(e,t){return-1!==o.indexOf(u(t).text().toLowerCase())}),e=s.filter(function(e,t){return-1===o.indexOf(u(t).text().toLowerCase())}),u.each(e,function(e,t){u(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!0)}),u.each(t,function(e,t){u(t).parentsUntil(".option").parent().find("[type='checkbox']").prop("checked",!1),u(t).parentsUntil(".option").parent().find("input[type='checkbox']").prop("checked",!1),u(t).parentsUntil(".option").parent().find("input[type='checkbox']").removeAttr("checked"),u(t).parentsUntil(".option").parent().addClass("hidden")}),t.length===s.length?c.removeClass("hidden"):c.addClass("hidden")):(c.addClass("hidden"),t.removeClass("hidden"),(n=r.find(".panel").data("checked_items"))&&u.each(l,function(e,t){t.checked=-1!==n.indexOf(t.id)}))},create:function(){u(this).parentsUntil(".ui-autocomplete").find(".clear-btn ").on("click",null,this,function(e){u(this).parentsUntil(".controls").find("input").val(""),u(this).parentsUntil(".controls").find("input").trigger("change"),u(e.data).autocomplete("search","undefined")})}})}function b(n){var a,i,e;void 0!==f.WISE&&void 0!==f.WISE.blocks&&-1!==f.WISE.blocks.indexOf(n.attr("id"))||(a=[],u.each(n.find(".option input[type='checkbox']:not(:checked)"),function(e,t){a.push(u(t).parent())}),e=n.find(".option input[type='checkbox']:checked"),i=[],0<e.length&&u.each(e,function(e,t){i.push(u(t).parent())}),e=i.concat(a),u.each(e,function(e,t){n.find(".panel").append(t)}))}function l(e,t){var p=t;e.each(function(d,e){var t,n,a,i,o,r,s,l,e=u(e),c=e.find(".option");0<c.find("input[type='checkbox']").length&&(t=e.attr("id"),l=e,u("#"+t).on("click",".option",function(){var e=this;u("#ajax-spinner2").hide(),-1!==f.WISE.blocks.indexOf(u(this).parentsUntil(".field").parent().attr("id"))?b(l):f.setTimeout(function(){u(m+" .formControls #form-buttons-continue").trigger("click",{button:e})},300)}),e.find("> label.horizontal").after('<div class="controls"><span>Select :</span><a data-value="all"><label><span class="label">All</span></label></a><a data-value="none"><label><span class="label">Clear all</span></label></a><a data-value="invert"><label><span class="label">Invert selection</span></label></a><div class="btn btn-default apply-filters" data-value="apply"><span>Apply filters</span></div><div class="ui-autocomplete"><span class=" search-icon" ></span><span class="search-span"><input class="ui-autocomplete-input" type="text" /><span class="clear-btn"></span></div></div>'),c.each(function(e){var t=u(c[e]).text();u(c[e]).attr("title",t.trim())}),c.length<4?(e.find(".controls a").hide(),e.find(".controls").html("").css("height","1px").css("padding",0)):(t=e,n=c,i=u(".msfd-search-wrapper"),t.addClass("panel-group"),(o=t.find("> label.horizontal")).addClass("panel-title panel-heading"),(r=o.next(".panel-content")).length||(o.nextAll().wrapAll('<div class="panel-content"></div>'),r=o.next(".panel-content")),(s=r.find("> span:not(.controls)")).addClass("panel-default"),r.hide().removeClass("open"),o.removeClass("open"),o.off("click.accordion").on("click.accordion",function(e){e.stopPropagation();var e=u(this),t=e.next(".panel-content");t.is(":visible")?(t.hide().removeClass("open"),e.removeClass("open"),0===u(".panel-content.open").length&&i.find(".dimmer").remove()):(u(".panel-content").hide().removeClass("open"),u(".panel-title").removeClass("open"),i.find(".dimmer").remove(),t.show().addClass("open"),e.addClass("open"),i.append('<div class="dimmer"/>'))}),u(g).off("click.accordionOutside").on("click.accordionOutside",function(e){0===u(e.target).closest(".panel-group").length&&(u(".panel-content").hide().removeClass("open"),u(".panel-title").removeClass("open"),i.find(".dimmer").remove())}),n.length<6?t.find(".controls .ui-autocomplete").hide():(s.append("<span class='noresults hidden'>No results found</span>"),s.data("checked_items",[]),a=s.data("checked_items"),u.each(t.find("input:checked"),function(e,t){a.push(t.id)}),v(t)),e.find(".search-icon").on("click",function(e){u(e.target).parent().find("input").trigger("focus")})),b(e)),--p||u(m+","+h).animate({opacity:1},1e3)})}function d(e){e.preventDefault();var e=u(this).parent().parent(),t=(f.WISE.blocks.push(u(this).parentsUntil(".field").parent().attr("id")),e.find(".apply-filters").show(),w(u(e).find("[type='checkbox']")));u.each(t,function(e){"all"!==u(t[e]).val()&&"none"!==u(t[e]).val()&&u(t[e]).prop("checked",!0)})}function p(e){e.preventDefault(),u(this).prop("checked",!1);var e=u(this).parent().parent(),t=(e.find(".apply-filters").show(),w(u(e).find("[type='checkbox']")));f.WISE.blocks.push(u(this).parentsUntil(".field").parent().attr("id")),u.each(t,function(e){u(t[e]).prop("checked",!1)})}function x(e){e.preventDefault(),u(this).prop("checked",!1);var e=u(this).parent().parent(),e=(e.find(".apply-filters").show(),f.WISE.blocks.push(u(this).parentsUntil(".field").parent().attr("id")),w(u(e).find("[type='checkbox']"))),t=e.filter(function(e,t){return u(t).is(":checked")}),n=e.filter(function(e,t){return!u(t).is(":checked")});u.each(t,function(e){u(t[e]).prop("checked",!1)}),u.each(n,function(e){u(n[e]).prop("checked",!0)})}function w(e){return e.filter(function(e,t){return-1===r.indexOf(u(t).val())})}function k(){var e=u(m+", "+h).find("[data-fieldname]");e.on("click",".option",function(e){u("#ajax-spinner2").hide();var t=u(this).find("input[type='checkbox']").val();-1!==f.WISE.blocks.indexOf(u(this).parentsUntil(".field").parent().attr("id"))||(t=t,e=e,u(m+" [name='form.widgets.page']").val(0),-1===r.indexOf(t)&&u(e.target).find("input[type='checkbox']").trigger("click"))})}function y(e){var o=["form-widgets-member_states-from","form-widgets-member_states-to"],r=e||m;u(r+" select").each(function(e,t){var n=u(t).attr("id");if(-1!==o.indexOf(n))return!1;u(t).addClass("js-example-basic-single");var n=u(t).find("option").length<10,a=u(r),i={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!0,width:"100%",theme:"flat"};n&&(i.minimumResultsForSearch=1/0),u(t).select2(i),u(r+" #s2id_form-widgets-marine_unit_id").hide();u(t).on("select2-selecting",function(e){u(this).attr("id"),a.find("[name='form.widgets.page']").remove();var t=this;f.setTimeout(function(){u(r+" .formControls #form-buttons-continue").trigger("click",{select:t})},300)})})}function C(e){var e=u(e.element[0]),t=e.attr("data-subtitle");return"<span>"+e.attr("data-maintitle")+": "+t+"</span>"}function _(){y(),n="#marine-unit-trigger",u(h+" select:not(.notselect)").hasClass("js-example-basic-single")||u(h+" select:not(.notselect)").addClass("js-example-basic-single").each(function(e,t){u(t).select2({placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:!1,width:"auto",theme:"flat",minimumResultsForSearch:20,allowClear:!0,dropdownParent:"#marine-unit-trigger",dropdownAdapter:"AttachContainer",containerCssClass:"select2-top-override",dropdownCssClass:"select2-top-override-dropdown",debug:!0}),u(t).parentsUntil(".field").parent().prepend("<h4>Marine Unit ID: </h4>"),u(t).on("select2-open",function(){var e=u(n).offset().top;u(n+" .arrow").hide(),u(".select2-top-override-dropdown").css({top:e+u(n).height()-u(n+" .arrow").height()+"px","margin-top":"12px !important"})}),u(t).on("select2-selecting",function(e){u(m+" [name='form.widgets.page']").val(0),u(m+" #form-widgets-marine_unit_id").select2().val(e.val).trigger("change"),u(m+" .formControls #form-buttons-continue").trigger("click",{select:e.target,from_marine_widget:!0})}),u(t).on("select2-close",function(){u(n).css("background","transparent"),u(n+" a").css("background","transparent"),u(n+" .arrow").show()}),u(h+" select").hasClass("js-example-basic-single")&&(t=u(h+' select [value="'+jQuery(h+" .select-article select").val()+'"]').text(),u(h+" select:not(.notselect)").parentsUntil(".field").before('<div id="marine-unit-trigger"><div class="text-trigger">'+t+"</div></div>"),u(n).on("click",function(){if(s)return!1;u(n).css("background","rgb(238, 238, 238)"),u(n+" a").css("background","rgb(238, 238, 238)"),u(h+" select:not(.notselect)").select2("open");var e=u(n+" a").height();u(".select2-top-override-dropdown").css("margin-top",e/2+"px")}))}),e=u("#mobile-select-article"),void 0!==u.fn.select2&&(e.select2({placeholder:"Select an option",closeOnSelect:!0,width:"element",theme:"flat",minimumResultsForSearch:20,formatSelection:C,formatResult:C,containerCssClass:"mobile-select-article"}),e.one("select2-selecting",function(e){g.location.href=e.choice.id}));var n,e="auto",t=!0,a={placeholder:"Select an option",closeOnSelect:!0,dropdownAutoWidth:t=f.matchMedia("(max-width: 967px)").matches?e=!1:t,width:e,theme:"flat",minimumResultsForSearch:20,containerCssClass:"extra-details-select"};u.each(u(h+" .extra-details-select"),function(e,t){1<u(t).find("option").length?u(t).select2(a):u(t).hide()}),u(h+" .extra-details .tab-panel").fadeOut("slow",function(){u.each(u(h+" .extra-details .extra-details-section"),function(e,t){u(u(t).find(".tab-panel")[0]).show()})}),u(h+" .extra-details-select").on("select2-selecting",function(n){var e=u(n.target).parentsUntil(".extra-details-section").parent();u.each(u(e).find(".tab-panel"),function(e,t){u(t).attr("id")!==n.choice.id?u(t).hide():u(t).fadeIn()})}),0<u(h+" .tab-content .tab-pane.fade").length&&(u(u(h+" .tab-content.msfd-extra-tab-content .tab-pane.fade")[0]).addClass("in active"),u(u(h+" .nav-tabs.msfd-extra-nav-tabs .nav-item")[0]).addClass("active"))}function I(e){var t,e=e.data.direction,n=u(m+" #s2id_form-widgets-marine_unit_id").select2("data"),a=u(n.element[0]).next(),n=u(n.element[0]).prev();"next"===e?t=a.val():"prev"===e&&(t=n.val()),u(m+" [name='form.widgets.page']").remove(),u(m+" #form-widgets-marine_unit_id").select2().val(t).trigger("change",{from_marine_widget:!0}),u(m+" #s2id_form-widgets-marine_unit_id").hide(),u(m+" .formControls #form-buttons-continue").trigger("click")}var o=".pagination-text > span:first-child";function S(){parseInt(u(u(".pagination-text > span:nth-child(2)")[0]).text())<3||(u(o).addClass("pagination-result"),0===u(o).parent().find("input").length&&(u(o).after('<input type="text" class="pagination-input" />'),u(".pagination-text .pagination-input").hide(),u(".pagination-text .pagination-input").bind("focusout",function(e){var t=u(e.target).val(),n=parseInt(u(u(e.target).parent().find("> span")[1]).text());if(s)return!1;u(this);n=function(e,t){if(isNaN(parseInt(e)))return!1;e=parseInt(e);var n=u(u(o)[0]).text();return e!==parseInt(n)&&(t<e?t-1:!(e<=0)&&(1===e?0:e-1))}(t,n);!1!==n?(u(m+" [name='form.widgets.page']").val(n),u(o).text(t),u(o).show(),u(o).parent().find("input").hide(),u(m+" .formControls #form-buttons-continue").trigger("click")):(u(e.target).val(""),u(o).parent().find("input").hide(),u(o).show())})),u(".msfd-search-wrapper").on("click",o,function(e){u(e.target).parent().find("input").show(300).focus().css("display","inline-block"),u(e.target).hide()}),u(".msfd-search-wrapper").on("click",function(e){u(e.target).is(o)||u(e.target).is(".pagination-text .pagination-input")||(u(o).parent().find("input").hide(),u(o).show())}))}function O(){var e,t,n,a,i=u(".prev-next-row").eq(0),o=(i.length&&u("#marine-widget-top").detach().insertBefore(i),i=u("#ajax-spinner"),u("body").append(i.clone(!0).attr("id","ajax-spinner2")),i.remove(),u(".button-field").addClass("btn"),u(m+" #s2id_form-widgets-marine_unit_id").parentsUntil(".field").parent().hide(),u("#form-buttons-continue").hide("fast"),i=u("#article132022form"),e=u("#article13form"),i.length&&e.length&&i.insertAfter(e),i=u("#form-buttons-download"),e=u(".center-section"),0<i.length&&(r=i.prop("outerHTML").replace("input","button")+" <span>Download as spreadsheet</span>",o=i.parent(),i.remove(),o.append(u(r)),i=u("#form-buttons-download").val("Download as spreadsheet").addClass("ui button primary inverted"),e.length&&i.appendTo(e)),u(m+", "+h).find("[data-fieldname]")),r=(0<o.length&&l(o,o.length),u(m+","+h).animate({opacity:1},1e3),u(".msfd-heading")),i=u(".msfd-start-link");r.length&&i.length&&r.insertAfter(i),u(m),(e=u(".controls")).on("click","a[data-value='all']",d),e.on("click","a[data-value='none']",p),e.on("click","a[data-value='invert']",x),e.one("click",".apply-filters",function(){u(m+" [name='form.widgets.page']").val(0),u(m+" .formControls #form-buttons-continue").trigger("click",{button:this})}),k(),_(),void 0!==f.setupTabs&&null!==f.setupTabs&&f.setupTabs(),"undefined"!=typeof clickFirstTab&&null!==clickFirstTab&&clickFirstTab(),i=u(".msfd-search-wrapper [name='form.buttons.prev']"),e=u(".msfd-search-wrapper [name='form.buttons.next']"),t=".formControls #form-buttons-continue",i.one("click",function(){if(s)return!1;u(m).find("form").append("<input type='hidden' name='form.buttons.prev' value='Prev'>"),u(m).find(t).trigger("click")}),e.one("click",function(){if(s)return!1;u(m).find("form").append("<input type='hidden' name='form.buttons.next' value='Next'>"),u(m).find(t).trigger("click")}),u(h+" select:not(.notselect)").val(),i=u(h+" select:not(.notselect) option"),n="#form-buttons-prev-top",e="#form-buttons-next-top",a="#marine-unit-trigger",u("#marine-unit-nav").hide(),u(h+" select:not(.notselect)").val()!==u(i[1]).val()?(u(n).append('<button type="submit" id="form-buttons-prev-top" name="marine.buttons.prev" class="submit-widget button-field btn btn-default pagination-prev" value="" button="">          </button>'),u(n).on("click",null,{direction:"prev"},I),u(n).hide(),u(a+" .arrow-left-container").one("click",function(){u(n).trigger("click")})):(u(a+" .arrow-left-container").hide(),u(".text-trigger").css("margin-left",0)),u(h+" select:not(.notselect)").val()!==u(i[i.length-1]).val()?(u(e).append('<button type="submit" id="form-buttons-next-top" name="marine.buttons.next"class="submit-widget button-field btn btn-default pagination-next" value=""></button>'),u(e).on("click",null,{direction:"next"},I),u(e).hide(),u(a+" .arrow-right-container").one("click",function(){u("#form-buttons-next-top").trigger("click")})):u(a+" .arrow-right-container").hide(),S()}function t(e,t){f.WISE.blocks=[],u(h+" .no-results").remove();var n,a=u("#ajax-spinner2").attr("id","ajax-spinner-form").show();u(m).append("<div id='wise-search-form-container-preloader'/>"),u("#wise-search-form-container-preloader").append(a),u("#form-widgets-marine_unit_id").prop("disabled",!0),u("[name='form.buttons.prev']").prop("disabled",!0),u("[name='form.buttons.next']").prop("disabled",!0),u("[name='marine.buttons.prev']").prop("disabled",!0),u("[name='marine.buttons.next']").prop("disabled",!0),0<u("#marine-widget-top").length?(n=u("#marine-widget-top").next()).css("position","relative"):n=u(".left-side-form"),n.prepend("<div id='wise-search-form-preloader'/>"),u("#wise-search-form-preloader").append("<span style='position: absolute; display: block; left: 50%;top: 10%;'></span>"),u("#wise-search-form-preloader > span").append(u("#ajax-spinner2").clone().attr("id","ajax-spinner-center").show()),u("#ajax-spinner-center").css({position:"fixed"}),u("#wise-search-form-top").find(".alert").remove(),s=!0}function j(e){t=e;var t=(t=new RegExp("sortabledata-([^ ]*)","g").exec(t.attr("class")))?t[1]:null;return"-"===(t=null===t?e.text():t).charAt(4)||"-"===t.charAt(7)||isNaN(parseFloat(t))?t.toLowerCase():parseFloat(t)}function U(){var n,a,i,e=u(this).closest("th"),e=u("th",u(this).closest("thead")).index(e),t=u(this).parents("table:first"),o=t.find("tbody:first"),r=parseInt(t.attr("sorted")||"-1",10)===e;u(this).parent().find("th:not(.nosort) .sortdirection").html("&#x2003;"),u(this).children(".sortdirection").html(r?"&#x25b2;":"&#x25bc;"),n=u(this).parent().children("th").index(this),a=[],i=!0,o.find("tr").each(function(){var e=u(this).children("td"),t=j(e.slice(n,n+1));isNaN(t)&&(i=!1),a.push([t,j(e.slice(1,2)),j(e.slice(0,1)),this])}),a.length&&(i?a.sort(function(e,t){return e[0]-t[0]}):a.sort(),r&&a.reverse(),t.attr("sorted",r?"":e),o.append(u.map(a,function(e){return e[3]})),o.each(L))}function L(){u(this).find("tr").removeClass("odd").removeClass("even").filter(":odd").addClass("even").end().filter(":even").addClass("odd")}function A(e,t){"success"===t&&u(m).fadeIn("fast",function(){u(h+" #wise-search-form-top").siblings().fadeIn("fast")}),u(h+" #loader-placeholder").remove(),u("#form-widgets-marine_unit_id").prop("disabled",!1),u(h+" select").hasClass("js-example-basic-single")&&(u(h+" .select2-choice").width()/2<=u(h+" #select2-chosen-3").width()?u(h+" .select2-choice").css("width","50%"):u(h+" .select2-choice").width()/3*2<=u(h+" #select2-chosen-3").width()&&u(h+" .select2-choice").css("width","70%")),0===u("#wise-search-form-top").next().length&&u(h+" #wise-search-form-top").after("<span class='no-results'>No results found.</span>"),s=!1;t=u("<span>&#x2003;</span>").addClass("sortdirection");u("table.listing:not(.nosort) thead th:not(.nosort)").append(t.clone()).css("cursor","pointer").click(U),u("table.listing:not(.nosort) tbody").each(L),"undefined"!=typeof scanforlinks&&jQuery(scanforlinks),Z()}function T(e,t,n){u("#wise-search-form-top").find(".alert").remove(),u("#wise-search-form-top").append('<div class="alert alert-danger alert-dismissible show" style="margin-top: 2rem;" role="alert">  <strong>There was a error from the server.</strong> You should check in on some of those fields from the form.  <button type="button" class="ui button close" data-dismiss="alert" aria-label="Close">    <span aria-hidden="true">&times;</span>  </button></div>'),u("#form-widgets-marine_unit_id").prop("disabled",!1),u("#wise-search-form-container-preloader").remove(),u("#wise-search-form-preloader").remove(),u("#ajax-spinner-form").hide(),u("[name='form.buttons.prev']").prop("disabled",!0),u("[name='form.buttons.next']").prop("disabled",!0),u("[name='marine.buttons.prev']").prop("disabled",!0),u("[name='marine.buttons.next']").prop("disabled",!0),"undefined"!=typeof Storage&&c.removeItem("form"),s=!1}function D(e){u.each(u("#"+e).find(".option"),function(e,t){u(t).find("[type='checkbox']").prop("checked",!0)})}function E(r,s,e,l){e.includes("/++api++")||(e=e.replace("3000/","3000/++api++")),u.ajax({type:"POST",contentType:"multipart/form-data; boundary="+r,cache:!1,data:s,dataType:"html",url:e,beforeSend:t,success:function(e,t,n){var a,i,o;a=(o={boundary:r,data:s,formData:l}).data||null,i=o.boundary||null,o=o.formData||null,"undefined"!=typeof LZString&&(a=LZString.compressToEncodedURIComponent(a),o=LZString.compress(JSON.stringify(o)),"undefined"!=typeof Storage&&(c.setItem("form-"+W,a),c.setItem("boundary",i),c.setItem(W,o))),a=e,u(h+" #wise-search-form-top").siblings().html(""),u(h+" #wise-search-form-top").siblings().fadeOut("fast"),u(h+" .topnav").next().remove(),i=u(a),f.WISE.formData=u(a).find(m).clone(!0),a=i.find(m).html(),console.log("success"),u("#wise-search-form-preloader").remove(),o=i.find(h+" #wise-search-form-top").siblings(),u(m).html(a),0<i.find(h+" .topnav").next().length&&u(h+" .topnav").after(i.find(h+" .topnav").next()),u(h+" #wise-search-form-top").siblings().remove(),u(h+" #wise-search-form-top").after(o),O(),i=(a=u(".wise-search-form-container form").attr("action")||"").includes("/++api++")?a:a.replace("3000/","3000/++api++"),u(".wise-search-form-container form").attr("action",i),F(),R(),u("[name='form.buttons.prev']").prop("disabled",!1),u("[name='form.buttons.next']").prop("disabled",!1),u("[name='marine.buttons.prev']").prop("disabled",!1),u("[name='marine.buttons.next']").prop("disabled",!1),u("#wise-search-form-top").find(".alert").remove()},complete:A,error:T})}var W=f.location.pathname.substr(f.location.pathname.indexOf("@@"),f.location.pathname.length-1)||"defaultForm";function M(){if(null!==c.getItem("form-"+W))if("undefined"!=typeof LZString)try{var e,t=LZString.decompressFromEncodedURIComponent(c.getItem("form-"+W)),n=u(m).find("form"),a=u.getMultipartData("#"+n.attr("id")),i=c.getItem(W);u.getMultipartData("#"+n.attr("id"),c.getItem("boundary"));!function(e,a){var i=!1;try{var o=JSON.parse(e);u.each(Object.keys(o),function(e,t){var n=o[t];if(0<(void 0!==a[t]?a[t].filter(function(e){return-1===n.indexOf(e)}):[]).length)return!(i=!0)})}catch(e){return!1}return!!i}(LZString.decompress(i),a[2])?console.log("same data"):(e=n.attr("action"),E(c.getItem("boundary"),t,e))}catch(e){console.log(e)}else console.error("LZString not found")}function N(e){var t=u(this).attr("href").indexOf("@@"),n=u(this).attr("href");0<t&&(e.preventDefault(),e=u(this).attr("href").substr(t,n.length-1),c.removeItem(e),c.removeItem("form"),f.location.href=n)}function F(){u(".select-widget").find("option:contains('No value')").each(function(){u(this).remove()})}function R(){u(".table-report").fixTableHeaderAndCellsHeight()}function Z(){u(".double-scroll").each(function(){var e,t=u(this),n=t.find("table"),a=n.outerWidth(includeMargin=!0);null==a||a<=n.parent().width()||(t.parent().before('<div class="cloned-scroll-top" style="overflow-x: auto;"><div style="height: 1px; margin-left: 165px;"></div></div>'),(e=t.parent().siblings(".cloned-scroll-top").first()).on("scroll",function(){t.scrollLeft(e.scrollLeft())}),t.scroll(function(){e.scrollLeft(t.scrollLeft())}),e.children().width(a))})}u.fn.fixTableHeaderAndCellsHeight=function(){this.each(function(){u("th",this).each(function(){var e=u(this),t=u("td",e.parent()),n=Math.max(t.height()),a=Math.max(e.height(),n);e.height(a),e.height()>=n&&t.height(e.height()),u("div",this).css("margin-top","-4px")})})},jQuery(g).ready(function(r){f.setTimeout(function(){O()},100);var e=r(".wise-search-form-container form").attr("action")||"";e=e.includes("/++api++")?e:e.replace("3000/","3000/++api++"),r(".wise-search-form-container form").attr("action",e);f.WISE={},f.WISE.formData=r(m).clone(!0),f.WISE.blocks=[],r(m).unbind("click").on("click",".formControls #form-buttons-continue",function(e){e.preventDefault();var a,n,t=arguments[1],i=t&&t.button,o=t&&t.select,i=(i=i,o=o,(a=t)&&!i&&!o||(n=function(e){var t=u(e).closest(".panel-group"),n=t.closest(".subform").find(".subform");t.nextAll(".panel-group").find(".panel").empty(),n.length?(n.hasClass("subform")&&n.empty(),n.find(".panel").empty(),n.find(".subform").empty()):u(e).parent().parent().next().empty()},t=function(e){var t=u(e).parent().next().attr("id"),n=u(e).closest(".panel-group"),e=(n.closest(".subform"),u(e).parent().parent().next());if(void 0!==a.from_marine_widget||!0===a.from_marine_widget)return!0;D("formfield-form-widgets-member_states"===t?t:"memberstatesform"),n.nextAll(".panel-group").find(".panel").empty(),e.length&&e.find(".subform").empty()},i?n(i):o?t(o):u(".ui-autocomplete-input").each(function(e,t){if(t.value)return n(t),!1})),r(m).find("form")),t=i.attr("action"),o=r.getMultipartData("#"+i.attr("id"));E(o[0],o[1],t,o[2])}),M(),r(".topnav a").on("click",N),F(),R(),Z()})}(window,document,jQuery);
//# sourceMappingURL=msfd_search.js.map