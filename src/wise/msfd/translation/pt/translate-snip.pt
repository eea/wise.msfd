<tal:block
  tal:define="text options/text;
  translation options/translation;
  can_translate options/can_translate;

  background_color python: 'blue' if not translation else 'green';
  translatable_class python: 'translatable ' + background_color if translation or can_translate else 'translatable';

  text_extra_class python:'active' if not translation else '';
  text_class python:'translate-container text ' + text_extra_class;
  btn_text_class python: 'btn btn-light btn-xs btn-translate btn-translate-orig ' + text_extra_class;

  transl_extra_class python:'active' if translation else '';
  trans_class python:'translate-container transl ' + transl_extra_class;
  btn_trans_class python: 'btn btn-light btn-xs btn-translate btn-translate-transl ' + transl_extra_class;
  ">
  <td tal:attributes="class translatable_class">
    <tal:cond tal:condition="python: text">

      <div class="dropdown" tal:condition="can_translate">
        <button id="dLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="fa fa-ellipsis-v fa-sm"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dLabel">
          <li>
            <button class="btn btn-primary btn-s autoTransl">Auto-translate</button>
          </li>
          <li>
            <button
              class="btn btn-primary btn-s editTransl"
              data-toggle="modal"
              data-target="#edit-translation">Edit translation</button>
          </li>
        </ul>
      </div>

      <div class="translate-content">

        <div tal:attributes="class text_class" tal:content="structure text">Original Text</div>
        <div tal:attributes="class trans_class" tal:content="structure translation">Translated Text</div>

        <div class="translate-language absolute" tal:condition="python: translation">
          <button tal:attributes="class btn_text_class" tal:content="view/country_code">LV</button>
          <button tal:attributes="class btn_trans_class" >EN</button>
        </div>

      </div>
    </tal:cond>
  </td>
</tal:block>
