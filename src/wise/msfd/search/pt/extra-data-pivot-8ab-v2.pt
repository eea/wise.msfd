<div
  tal:define="extra_data options/extra_data | view/get_extra_data"
  class="extra-details">
  <h4 style="font-weight: 500; margin-top: 1.5rem;" class="section-title">Element Status, Criteria Status, Criteria Values and Related indicator(s)</h4>
  <div tal:condition="python: len(extra_data) == 0">No data </div>

  <div style="overflow: initial;"
      class="extra-details-section"
        tal:repeat="element_status extra_data" >
    
    <fieldset style="border: 1px solid #acbac7; padding: 1em;">
      <legend style="font-weight: 600; float: none; padding: 0 0.5em; color: #002d54; border: none; width: auto; font-size: 18px; margin: 0; font-family: PoppinsB;">Element Status</legend>
      <dl style="margin-bottom: 10px; margin-top: 0;">
        <tal:rep tal:repeat="key python: element_status.keys()">
          <tal:section tal:condition="python: key not in view.blacklist">
            <dt class="fixed-positionZ"
                tal:content="python:view.name_as_title(key)">Label</dt>
            <dd style="max-height: 300px;" tal:condition="python: element_status[key]">
              <span
                tal:content="structure python:view.print_value(element_status[key], key)">
                  Value
              </span>
            </dd>
            <dd tal:condition="python: not element_status[key]">
              <em>No value</em>
            </dd>
          </tal:section>
        </tal:rep>
      </dl>

      <tal:rep tal:repeat="criteria_status python: element_status.get('_criteria_statuses', [])">
        <fieldset style="border: 1px solid #acbac7; padding: 1em; margin-top: 1em;">
          <legend style="font-weight: 600; float: none;  padding: 0 0.5em; color: #002d54; border: none; width: auto; font-size: 18px; margin: 0; font-family: PoppinsB;">Criteria Status</legend>
          <dl style="margin-bottom: 10px; margin-top: 0;">
            <tal:rep tal:repeat="key python: criteria_status.keys()">
              <tal:section tal:condition="python: key not in view.blacklist">
                <dt class="fixed-positionZ"
                    tal:content="python:view.name_as_title(key)">Label</dt>
                <dd style="max-height: 300px;" tal:condition="python: criteria_status[key]">
                  <span
                    tal:content="structure python:view.print_value(criteria_status[key], key)">
                        Value
                  </span>
                </dd>
                <dd tal:condition="python: not criteria_status[key]">
                  <em>No value</em>
                </dd>
              </tal:section>
            </tal:rep>
          </dl>

          <tal:rep tal:repeat="criteria_values python: criteria_status.get('_criteria_values', [])">
            <fieldset style="border: 1px solid #acbac7; padding: 1em; margin-top: 1em;">
              <legend style="font-weight: 600; float: none;  padding: 0 0.5em; color: #002d54; border: none; width: auto; font-size: 18px; margin: 0; font-family: PoppinsB;">Criteria Values</legend>
              <dl style="margin-bottom: 10px; margin-top: 0;">
                <tal:rep tal:repeat="key python: criteria_values.keys()">
                  <tal:section tal:condition="python: key not in view.blacklist">
                    <dt class="fixed-positionZ"
                        tal:content="python:view.name_as_title(key)">Label</dt>
                    <dd style="max-height: 300px;" tal:condition="python: criteria_values[key]">
                      <span
                        tal:content="structure python:view.print_value(criteria_values[key], key)">
                            Value
                      </span>
                    </dd>
                    <dd tal:condition="python: not criteria_values[key]">
                      <em>No value</em>
                    </dd>
                  </tal:section>
                </tal:rep>
              </dl>
            </fieldset>
          </tal:rep>
        </fieldset>
      </tal:rep> 
    </fieldset>

  </div>
</div>
